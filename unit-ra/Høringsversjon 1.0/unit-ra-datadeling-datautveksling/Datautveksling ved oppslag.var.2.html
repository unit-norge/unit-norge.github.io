<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Datautveksling ved oppslag :: Referansearkitekturer i høyere utdanning og forskning</title>
    <link rel="canonical" href="https://unit-norge.github.io/unit-ra/main/unit-ra-datadeling-datautveksling/Datautveksling%20ved%20oppslag.var.2.html">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://unit-norge.github.io">Referansearkitekturer i høyere utdanning og forskning</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="unit-ra" data-version="Høringsversjon 1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../om-hkdir-referansearkitekturer.html">Om våre referansearkitekturer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../main/unit-ra-datadeling-sammendrag/Sammendrag.html">Sammendrag</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../main/Bøker/Referansearkitektur%20for%20deling%20av%20data%20i%20høyere%20utdanning%20og%20forsking.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-introduksjon/Introduksjon.html">Introduksjon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-tilnærming/Tilnærming%20til%20utvikling%20av%20referansearkitekturen.html">Tilnærming til utvikling av referansearkitekturen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-roller/Roller%20og%20ansvar%20for%20informasjonsforvaltning.html">Roller og ansvar for informasjonsforvaltning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-målarkitekturen/Datadelingsplattformen%20og%20fellestjenestene%20i%20den.html">Datadelingsplattformen og fellestjenestene i den</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-datautveksling/Datautveksling.html">Datautveksling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-rutiner/Rutiner.html">Rutiner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-a/Vedlegg%20A;%20Definisjoner.html">Vedlegg A: Definisjoner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-b/Vedlegg%20B;%20Behov%20for%20avklaringer%20og%20utfordringer%20i%20sektorenes%20kontekst.html">Vedlegg B: Behov for avklaringer og utfordringer i sektorenes kontekst</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-c/Vedlegg%20C;%20Integrasjonsprinsipper.html">Vedlegg C: Integrasjonsprinsipper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-d/Vedlegg%20D;%20Behov%20og%20bruksområder.html">Vedlegg D: Behov og bruksområder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-e/Vedlegg%20E;%20Føringer.html">Vedlegg E: Føringer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-f/Vedlegg%20F;%20Bruk%20av%20Archimate.html">Vedlegg F: Bruk av Archimate</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Referansearkitekturer i høyere utdanning og forskning</span>
    <span class="version">Høringsversjon 1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../main/index.html">Referansearkitekturer i høyere utdanning og forskning</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../main/index.html">main</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">Høringsversjon 1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../main/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></li>
    <li><a href="Datautveksling%20ved%20oppslag.var.2.html">Datautveksling ved oppslag</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">Høringsversjon 1.0</button>
  <div class="version-menu">
    <a class="version" href="../../main/unit-ra-datadeling-datautveksling/Datautveksling%20ved%20oppslag.var.2.html">main</a>
    <a class="version is-current" href="Datautveksling%20ved%20oppslag.var.2.html">Høringsversjon 1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/unit-norge/unit-ra/edit/ver1.0/docs/modules/unit-ra-datadeling-datautveksling/pages/Datautveksling%20ved%20oppslag.var.2.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Datautveksling ved oppslag</h1>
<div class="sect1">
<h2 id="_datautvekslingsmønster"><a class="anchor" href="#_datautvekslingsmønster"></a>Datautvekslingsmønster</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Synkront oppslag</strong></p>
</div>
<div class="paragraph">
<p><em>Synkront oppslag</em> er realiseringen av eOppslag. I dette mønsteret
hentes data fra datakilden ved behov. Et typisk eksempel på synkront
oppslag kan være uthenting av aktuelle konteringsregler fra
økonomisystemet ved prevalidering av regnskap før det føres i hovedbok.</p>
</div>
<div class="paragraph">
<p><strong>Provisjonering via synkront oppslag</strong></p>
</div>
<div class="paragraph">
<p>Synkront oppslag kan også benyttes til provisjonering. I et slikt
tilfelle hentes all informasjon det er nødvendig å lagre i et
system fra datakilden. Ved provisjonering med synkront
oppslag er det ofte store mengder data i bevegelse, og overføringen tar
tid. Disse egenskapene medfører at provisjonering via synkront oppslag
utføres sjelden. Denne metoden blir ofte kalt <em>batch-provisjonering</em>.</p>
</div>
<div class="paragraph">
<p><strong>Provisjonering via lettvekts eNotifikasjoner</strong></p>
</div>
<div class="paragraph">
<p>I de tilfellene provisjonering via synkrone oppslag ikke kan besørge en
propageringshastighet som understøtter brukerenes behov, kan lette
eNotifikasjoner benyttes i kombinasjon med eOppslag. De lette
eNotifikasjonene bærer informasjon om <em>hvilke</em> data som har endret seg i
datakilden, og leveres umiddelbart til de som måtte være interessert i
dataendringene. Dette tillater systemet som er avhengig av
provisjonering å hente kun den informasjonen som har blitt endret.</p>
</div>
<div class="paragraph">
<p>Et typisk eksempel på bruk av dette mønsteret er en professor som publiserer en artikkel i Nasjonalt Vitenarkiv. Professorens personprofil på institusjonens nettsider blir oppdatert snarlig etter at  artikkelen er publisert i Nasjonalt Vitenarkiv, siden det blir sendt en lettvekts notifikasjon om registreringen.</p>
</div>
<div class="paragraph">
<p><strong>Fremtidige utvidelser</strong></p>
</div>
<div class="paragraph">
<p>Digitaliseringsdirektoratets referansearkitektur definerer to varianter
av eNotifikasjon, den tidligere omtalte lettvektsvarianten, og en basert
på hendelseslister.</p>
</div>
<div class="paragraph">
<p>Hendelseslister består av notifikasjoner som konsumeres via eOppslag.
Notifikasjonene kan inneholde varierende mengde informasjon, og
propageres ikke like hurtig som lettvektsvarianten beskrevet ovenfor.
Hendelseslistene er persistente av natur (til forskjell fra
lettvektsvarianten, der notifikasjonene «forsvinner» når de er
konsumert), og lar sådan datakilden beskrive en historikk. Et typisk
eksempel på en slik historikk kan være de forskjellige stegene i en
saksbehandlingsprosess, der de forskjellige stegene må være klart
definert for å kunne foreta videre steg i saksbehandlingsprosessen,
eller realisere etterlevelse av juridiske krav.</p>
</div>
<div class="paragraph">
<p>I neste versjon av referansearkitekturen vil det vurderes å inkludere
varianten basert på hendelseslister. Det vil også vurderes å utvide
definisjonen av lettvektsnotifikasjoner slik at de kan bære konkrete
data (også kalt <em>Event Carried State Transfer</em>), til forskjell fra
eksisterende definisjon der de kun bærer en referanse til dataene som er
endret.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_eoppslag_verdistrøm_med_kapabiliteter_for_tilbyder_og_konsument_uhf"><a class="anchor" href="#_eoppslag_verdistrøm_med_kapabiliteter_for_tilbyder_og_konsument_uhf"></a>eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/eOppslag%20Verdistrøm%20med%20kapabiliteter%20for%20tilbyder%20og%20konsument%20-%20UHF%20%20.png" alt="eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF   image">
</div>
<div class="title">Figure 1. eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Elementer i view for eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger slik at det kan oppdages av potensielle konsumenter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre data etter forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre data tilgjengelig for aktører utenfor egen virksomhet på forespørsel.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evne til å avgi data på forespørsel. Data som avgis er klargjort for dette gjennom en API som er publisert, og en API gateway som håndhever tilgangskontroll basert på at tilgang til data er gitt på på forhånd for den aktuelle konsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aksessere data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å aksessere data fra en annen aktør. Evnen kan realiseres enten som utveksling av data, eller gjennom å kunne aksessere data der det ligger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Del  data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verdistrøm for datatilbyderen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhent data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verdistrøm for datakonsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til data (konsument)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_publiser_api"><a class="anchor" href="#_publiser_api"></a>Publiser API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En prosessflyt som datatilbyder må gjennomføre for å gjøre et API synlig
og tilgjengelig gjennom kataloger og søkeløsninger. Metadata om APIet
blir registrert i API-katalogen. Metadata inkluderer begreper og
datamodeller omfattet av datasettet som APIet tilgjengeliggjør, samt
tilganger (scopes) knyttet til APIet som kan tildeles konsumenter.</p>
</div>
<div class="paragraph">
<p>APIet registrert i UHF API katalog blir høstet inn i Felles API katalog.
Vi ønsker at tilganger (scopes) i tillegg skal registreres i
Maskinporten slik at konsumenter utenfor UHF sektoren kan oppdage APIet
og be om tilgang på et senere tidspunkt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Publiser%20API.png" alt="Publiser API image">
</div>
<div class="title">Figure 2. Publiser API</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Elementer i view for Publiser API</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OAUTH scopes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token-egenskaper</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Egenskaper som f.eks. gyldighetstid ved tilgangstoken som er Maskinportens variant av sikkerhetsbillett.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere API i UH/F sektoren</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Programtjeneste for å registrere og vedlikeholde API som er tilgjengelige i Universitets og Høyskole-sektoren</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API Beskrivelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Open API spesifikasjon (har vi føringer på format her)?</p>
</div>
<div class="paragraph">
<p>Vi har behov for en beskrivelse av datamodell og begreper som finnes i begrepskatalog og datamodell katalog. Vi vil bruker det nasjonale om den har funksjonaliteten vi trenger, men det er mulig vi må bruke noe for sektoren om ikke funksjonalitet er dekket.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF definer rettighetter knyttet til APIer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>UHF sentralisert selvbetjeningstjeneste for administrasjon av integrasjoner og APIer.
Tjeneste "administrasjonssentre" vil ha rettigheter til å registrere på vegne av andre f.eks. API-katalogen
Definere hvilke scopes finnes koblet til et API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger slik at det kan oppdages av potensielle konsumenter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å registere API og tilhørende OAUTH scopes i API-katalog, og høste disse opplysningene til Maskinporten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API manager</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API Management omfatter en administrativ komponent, API Manager, som
kontrollerer policy og livssyklus for definisjon og forvaltning av API
og en katalog over tilgjengelige API, API-Katalog (se under).<br>
Tilganger gjennom et API defineres i API manager og tildeles av
autorisasjonstjener.</p>
</div>
<div class="paragraph">
<p>Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert administrasjon av sikkerhetsretningslinjer for API</p>
</li>
<li>
<p>Sentralisert publisering av API spesifikasjon, for eksempel
OpenAPI/RAML, dokumentasjon</p>
</li>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API
utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API, utvikling, test, utrulling, nye
versjoner og nedlegging</p>
</li>
<li>
<p>Ivareta registrering, forvaltning og utvikling av konsumentrettigheter</p>
</li>
<li>
<p>Rapportering og analyse for å overvåke bruk og last</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_tilgjengeliggjøre_data_etter_forespørsel_løsningsmønster_uhf"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forespørsel_løsningsmønster_uhf"></a>Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En prosessflyt som datatilbyder må gjennomføre for å tildele rettigheter til en konsument som ber om tilgang til data. En datatilbyder mottar forespørsel om tilgang til et API på vegne av en organisasjon eller bruker. Dataeieren tar stilling til om konsumenten skal få tilgang til data gjennom APIet. Tilgang registreres knyttet til konsumentens klient (applikasjonen som benytter APIet) i klientregisteret.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Tilgjengeliggjøre%20data%20etter%20forespørsel%20-%20løsningsmønster%20UHF.png" alt="Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF image">
</div>
<div class="title">Figure 3. Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Elementer i view for Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjør API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å tilby data gjennom et API til aktører utenfor egen virksomhet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildele tilganger til API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å registrere hvilke databrukere som skal få tilgang
Sette policy, og grov tilgangsstyring gjennom Maskinporten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å inngå avtale om tilgang og bruk av data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere brukere av samtykke</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å registrere konsumenter som skal ha mulighet for å innhente samtykker som gir tilgang til en tjeneste.</p>
</div>
<div class="paragraph">
<p>Dette utføres kun om det er behov for samtykke for tilgang til dataene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere samtykkebasert tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å registrere konsumenter som ma innhente samtykke som gir grunnlag for utlevering fra datatilbyder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aktører som kan innhente samtykke for bruk av API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over aktører som skal ha mulighet til å innhente samtykke som grunnlag for å få tilgang til data gjennom et API.
URL til konsumenten det kan innhentes samtykke for må inngå i beskrivelsen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre data etter forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre data tilgjengelig for aktører utenfor egen virksomhet på forespørsel.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API tilgangs-forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Godkjenn tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å vurdere og eventuelt gi tilgang for en konsument som ber om tilgang. En tjeneste i UHF Ressursportalen som lar dataforvalteren beslutte tilgang, enten gjennom en automatisert policy eller gjennom en manuell behandling.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildel rettigheter til konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Datakonsument skal kunne finne
tilgjengelige ressurser og be om tilgang til disse. Tilgang kan gis på
grunnlag av eksisterende tillit til datakonsumenten eller per
tilgangsforespørsel der ressurseieren beslutter tilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ressursportal</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ressursportalen tildeler og holder oversikt over tilganger til beskyttede ressurser i høyere utdanning og forskningssektoren i henhold til føringer fra eierne av disse
ressursene. Tilganger er gitt i form av sikkerhetsbilletter.
Ressursportalen er en del av den felles infrastrukturen for føderert API
management for høyere utdanning og forskning. Den registrerer og holder
oversikt over API og meldingsbaserte notifikasjoner, holder oversikt
over klienter som har blitt tildelt tilgang til disse og hvilke
tilganger det gjelder. Ressursportalen benytter JSON Web Token
formattert OAuth2 sikkerhetsbilletter for å gi tilgang til ressurser
gjennom API gateway og meldingstjenester nær de beskyttede ressursene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespør dataforvalter</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En tjeneste som lar dataforvalteren beslutte datatilgang, enten gjennom en automatisert policy eller gjennom en manuell behandling.</p>
</div>
<div class="paragraph">
<p>Datatilgang kan være lesetilgang, skrivetilgang eller begge deler.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_få_tilgang_til_data_løsningsmønster_uhf"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf"></a>Få tilgang til data - løsningsmønster UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En prosessflyt en konsument av data må gjennomføre for å få tildelt rettigheter til data gjennom et API. Det omfatter å få kjennskap til aktuelt API gjennom API-katalogen, autentisere konsumenten, inngå avtale om bruk av data, samt å registrere tilganger hos den tekniske komponenten som skal utføre tjenestekallet. Dersom det dreier seg om tilgang til et åpent tilgjengelig API, kan enkelte delaktiviteter i prosessene hoppes over, men for å kunne logge informasjon om bruk av APIer bør alle konsumenter av et API registreres i klientregisteret.</p>
</div>
<div class="paragraph">
<p>Viewet bør strengt tatt vise at konsumenten kan finne APIet enten i UHF sektorens API katalog eller i Felles datakatalog. Vi velger å vise prosessflyten kun med UHF sektorens komponenter både for å kunne presentere en oversiktlig prosessflyt og fordi forholdet til de nasjonale felleskomponenter ennå ikke er helt avklart.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.png" alt="Få tilgang til data - løsningsmønster UHF image">
</div>
<div class="title">Figure 4. Få tilgang til data - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Elementer i view for Få tilgang til data - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å skaffe seg tilgang til tilbudte data fra annen aktør. Omfatte å finne API-er, inngå nødvendige avtaler og få tilganger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å inngå avtale om tilgang og bruk av data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrer klient med tildelt tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for konsument å registerere (provisjonering av) den klienten som skal ha tilgang til API-et ved bruk av sikkerhetsbillett. Dette forutsetter at konsumenten har avtale om bruk av sikkerhetsbillettjenesten og at tilbyder har gitt konsumenten tilgang.</p>
</div>
<div class="paragraph">
<p>Dersom det er en leverandør som har blitt delegert rettigheter som databehandler på vegne av konsument er det leverandøren som registrer sin klient.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finn/få kjennskap til API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å finne eller få kjennskap til tilgjengelige API-er gjennom relevante kataloger og søkeløsninger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrivelse API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API-søk</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å søke etter og finne tilgjengelige API-er</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til data (konsument)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildel rettigheter til konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Datakonsument skal kunne finne
tilgjengelige ressurser og be om tilgang til disse. Tilgang kan gis på
grunnlag av eksisterende tillit til datakonsumenten eller per
tilgangsforespørsel der ressurseieren beslutter tilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API tilgangs-forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Autorisasjonstjener</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonstjenester realiserer tilgangskontroll
gjennom å utstede sikkerhetsbilletter. En autorisasjonstjener er også
brukt til å realisere autorisasjonspolicy for tilgang og roller.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OAUTH scopes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_innhente_data_løsningsmønster_uhf"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf"></a>Innhente data - løsningsmønster UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En prosessflyt en konsument utfører når det utføres et tjenestekall for å innhente data gjennom et API. API-adressen hentes i API-katalogen. Tilgang til APIet byttes inn mot et kjøretids-token i autoriseringstjenesten. Tjenestekall til APIet utføres gjennom API gateway der tokenet benyttes for å få tilgang. Dersom det er et åpent API er det kun relevante prossessteg som utføres.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Innhente%20data%20-%20løsningsmønster%20UHF.png" alt="Innhente data - løsningsmønster UHF image">
</div>
<div class="title">Figure 5. Innhente data - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Elementer i view for Innhente data - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Infrastruktur</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samtykkeregistererings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å innhente samtykke fra den registrert som dataene gjelder. Dette kan være en person eller en virksomhet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adressetjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som gir mulighet til å slå opp teknisk endepunkt</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virksomhetssertifikat</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En virksomhets elektroniske ID. Benyttes for å autentisere virksomheten overfor tokentjenesten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokentjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppslag representasjons-forhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som benyttes av tokentjenesten for å kontrollere om det foreligger et delegert representasjonsforhold fra konsument til leverendør i autorisasjonstjenesten til Altinn.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Autorisasjonstjener</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonstjenester realiserer tilgangskontroll
gjennom å utstede sikkerhetsbilletter. En autorisasjonstjener er også
brukt til å realisere autorisasjonspolicy for tilgang og roller.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endepunkt (adresse)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi konsument adgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å gi datakonsument adgang til data. Tjenesten kan realiseres gjennom utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag. Tjenesten kan også realiseres ved å gi konsumenten adgang til data er de ligger, f.eks, innen forskning for analyse av store datamengder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nasjonal Infrastruktur</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aksessere data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å aksessere data fra en annen aktør. Evnen kan realiseres enten som utveksling av data, eller gjennom å kunne aksessere data der det ligger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slå opp data gjennom et API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å slå opp og hente data gjennom et API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hent teknisk endepunkt ved behov</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen å slå opp den tekniske adressen til et API før datatilgang gjennom API-et. Gjøres kun dersom det er nødvendig.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Be om tilgangstoken</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å benytte en sikkerhetsbillettjeneste for å hente en sikkerhetsbillett som gir tilgang til et API. Dette forutsetter at alt er registrert og satt opp riktig mot de aktuelle tjenestene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utfør tjenestekall for innhenting av data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å benytte (gjøre et oppslag mot) et eksternt API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhent samtykke ved behov</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å innhente samtykke fra person eller virksomhet som grunnlag for å innhente eller oppdatere data. Dette gjøres kun ved behov.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_avgi_data_løsningsmønster_uhf"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf"></a>Avgi data - løsningsmønster UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>En prosessflyt en tilbyder av data utfører for å svare på en dataforespørsel. Tilbyder mottar forespørsel om oppslag med et aksesstoken. Klienten som forespør autentiseres og token valideres. Eventuelt mer fin-granulert tilgangskontroll utføres og data returneres. Tilgang kontrolleres kun dersom det er snakk om et sikret API.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Avgi%20data%20-%20løsningsmønster%20UHF.png" alt="Avgi data - løsningsmønster UHF image">
</div>
<div class="title">Figure 6. Avgi data - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Elementer i view for Avgi data - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Egen autorisasjons-komponent</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Komponent for å håndheve virksomhetens regler for tilgang.
Også kalt policy enforcement point (PEP).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgangskontroll-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å sjekke rettigheter til data. Kan være eksterne eller interne tjenester.
Eksempler på rettigheter kan komme av samtykker fra person eller virksomhet, eller rollebasert fra vergemål, familierelasjon el.</p>
</div>
<div class="paragraph">
<p>Konsumenten som forespurte tilgang til data må ha en "authentication grant" som gir rett til operasjonen som er forespurt. Leseoperasjoner må ha lesetilgang og oppdateringsoperasjoner må ha skrivetilgang til data spesifisert.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi forespurte data gjennom API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å avgi data på forespørsel gjennom et egnet API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta  forespørsel om oppslag</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Motta forespørsler fra API-konsument om å avgi data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å gi svar på forespørselen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Kontroll og håndheving av konsumentens rettigheter til å innhente eller eventuelt oppdatere forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p>
</div>
<div class="paragraph">
<p>Konsumenten som forespurte tilgang til data må ha en "authentication grant" som gir rett til operasjonen som er forespurt. Leseoperasjoner må ha lesetilgang og oppdateringsoperasjoner må ha skrivetilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokenvaliderings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å validere og kontrollere autentisiteten til et OAUTH2 token fra Maskinporten</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evne til å avgi data på forespørsel. Data som avgis er klargjort for dette gjennom en API som er publisert, og en API gateway som håndhever tilgangskontroll basert på at tilgang til data er gitt på på forhånd for den aktuelle konsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API Gateway</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API gateway er en tjeneste som tilgjengeliggjør, beskytter og overvåker
tilgang til API-ressurser hos datatilbyder. Den håndhever
tilgangsstyring ved å validere sikkerhetsbilletter og utfører eventuell
fin-granulert tilgangskontroll. Den håndhever også volumbegrensninger og
samler data om bruken av API-er (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og overvåker tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere sikkerhetsbillett</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
</li>
<li>
<p>Håndtere volumbegrensninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>Orkestrering mellom interntjenester</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi konsument adgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å gi datakonsument adgang til data. Tjenesten kan realiseres gjennom utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag. Tjenesten kan også realiseres ved å gi konsumenten adgang til data er de ligger, f.eks, innen forskning for analyse av store datamengder.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
