<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Datautveksling :: Referansearkitekturer i høyere utdanning og forskning</title>
    <link rel="canonical" href="https://unit-norge.github.io/unit-ra/main/unit-ra-datadeling-datautveksling/Datautveksling.var.2.html">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://unit-norge.github.io">Referansearkitekturer i høyere utdanning og forskning</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="unit-ra" data-version="Høringsversjon 1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../om-hkdir-referansearkitekturer.html">Om våre referansearkitekturer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../main/unit-ra-datadeling-sammendrag/Sammendrag.html">Sammendrag</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../main/Bøker/Referansearkitektur%20for%20deling%20av%20data%20i%20høyere%20utdanning%20og%20forsking.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-introduksjon/Introduksjon.html">Introduksjon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-tilnærming/Tilnærming%20til%20utvikling%20av%20referansearkitekturen.html">Tilnærming til utvikling av referansearkitekturen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-roller/Roller%20og%20ansvar%20for%20informasjonsforvaltning.html">Roller og ansvar for informasjonsforvaltning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-målarkitekturen/Datadelingsplattformen%20og%20fellestjenestene%20i%20den.html">Datadelingsplattformen og fellestjenestene i den</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-datautveksling/Datautveksling.html">Datautveksling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-rutiner/Rutiner.html">Rutiner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-a/Vedlegg%20A;%20Definisjoner.html">Vedlegg A: Definisjoner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-b/Vedlegg%20B;%20Behov%20for%20avklaringer%20og%20utfordringer%20i%20sektorenes%20kontekst.html">Vedlegg B: Behov for avklaringer og utfordringer i sektorenes kontekst</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-c/Vedlegg%20C;%20Integrasjonsprinsipper.html">Vedlegg C: Integrasjonsprinsipper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-d/Vedlegg%20D;%20Behov%20og%20bruksområder.html">Vedlegg D: Behov og bruksområder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-e/Vedlegg%20E;%20Føringer.html">Vedlegg E: Føringer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-f/Vedlegg%20F;%20Bruk%20av%20Archimate.html">Vedlegg F: Bruk av Archimate</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Referansearkitekturer i høyere utdanning og forskning</span>
    <span class="version">Høringsversjon 1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../main/index.html">Referansearkitekturer i høyere utdanning og forskning</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../main/index.html">main</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">Høringsversjon 1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../main/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></li>
    <li><a href="Datautveksling.var.2.html">Datautveksling</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">Høringsversjon 1.0</button>
  <div class="version-menu">
    <a class="version" href="../../main/unit-ra-datadeling-datautveksling/Datautveksling.var.2.html">main</a>
    <a class="version is-current" href="Datautveksling.var.2.html">Høringsversjon 1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/unit-norge/unit-ra/edit/ver1.0/docs/modules/unit-ra-datadeling-datautveksling/pages/Datautveksling.var.2.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Datautveksling</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Fellestjenestene i datadelingsplattformen brukes i felles prosesser for å dele data. Gjennom å utføre en fellesprosess, vil en datakonsument eller en datatilbyder oppnå en evne (kapabilitet). Dette kapittelet beskriver de fellesprosessene som er definert for deling av data, og de evnene som oppnås ved å benytte dem. Prosessbeskrivelsen viser hvilke tjenester støtter prosessen, og hvilke komponenter realiserer tjenestene. Prosessbeskrivelsen viser også de sentrale forretningsobjekter og dataobjekter som benyttes og produseres underveis. Både tjenester og komponenter kan aksessere dataobjekter.</p>
</div>
<div class="paragraph">
<p>Prosessbeskrivelsene er presentert i <a href="https://www.opengroup.org/archimate-forum/archimate-overview">ArchiMate modelleringsspråk</a>. Vår bruk av Archimate er beskrevet i Vedlegg F. Prosesstegningene er definert for høyere utdanning og forskning, omtalt som "UHF".</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_delegere_rettigheter_til_databehandler_uhf"><a class="anchor" href="#_delegere_rettigheter_til_databehandler_uhf"></a>Delegere rettigheter til databehandler - UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Delegering av rettigheter til databehandler er det en konsument må gjøre
for at en leverandør kan identifisere seg med sitt eget
virksomhetssertifikat og opptre på vegne av konsumenten som er den som
innehar behandlingsgrunnlaget for å innhente data.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Delegere%20rettigheter%20til%20databehandler%20-%20UHF.png" alt="Delegere rettigheter til databehandler - UHF image">
</div>
<div class="title">Figure 1. Delegere rettigheter til databehandler - UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Elementer i view for Delegere rettigheter til databehandler - UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registering av representasjonsforhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å registrere et representasjonsforhold som gir leverandør mulighet til å opptre på vegne av konsument</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegerbar ressurs</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som beskriver en ressurs, f.eks. et API, som det kan gis rettigheter til gjennom et representasjonsforhold.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegering av rettigheter til databehandler (leverandør)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å delegere rettigheter til databehandler/leverandør.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere delegert tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å delegere tilganger. I tilknytning til eOppslag vil formålet være å gi leverandør tilgang til å representere konsument overfor et API, men registreringen vil potensielt også kunne gjelde for andre områder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale med leverandør</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å inngå en avtale med leverandør. En slik avtale vil normalt være inngått tidligere og uavhengig av om man skal ta i bruk et nytt API. En tjenesteavtale med leverandør er en forutsetning for å kunne delegere en tilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegere rettigheter til databehandler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å delegere rettigheter til databehandler som utfører oppgaver på vegne av behandlingsansvarlig.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samhandlingsaktør</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Samlebetegnelse på roller som inngår i en samhandlingsprosess og samhandler med en annen samhandlingsaktør. Kan være en tilbyder, konsument, avsender, mottaker, leverandør etc.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_datautveksling_ved_oppslag"><a class="anchor" href="#_datautveksling_ved_oppslag"></a>Datautveksling ved oppslag</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_datautvekslingsmønster"><a class="anchor" href="#_datautvekslingsmønster"></a>Datautvekslingsmønster</h3>
<div class="paragraph">
<p><strong>Synkront oppslag</strong></p>
</div>
<div class="paragraph">
<p><em>Synkront oppslag</em> er realiseringen av eOppslag. I dette mønsteret
hentes data fra datakilden ved behov. Et typisk eksempel på synkront
oppslag kan være uthenting av aktuelle konteringsregler fra
økonomisystemet ved prevalidering av regnskap før det føres i hovedbok.</p>
</div>
<div class="paragraph">
<p><strong>Provisjonering via synkront oppslag</strong></p>
</div>
<div class="paragraph">
<p>Synkront oppslag kan også benyttes til provisjonering. I et slikt
tilfelle hentes all informasjon det er nødvendig å lagre i et
system fra datakilden. Ved provisjonering med synkront
oppslag er det ofte store mengder data i bevegelse, og overføringen tar
tid. Disse egenskapene medfører at provisjonering via synkront oppslag
utføres sjelden. Denne metoden blir ofte kalt <em>batch-provisjonering</em>.</p>
</div>
<div class="paragraph">
<p><strong>Provisjonering via lettvekts eNotifikasjoner</strong></p>
</div>
<div class="paragraph">
<p>I de tilfellene provisjonering via synkrone oppslag ikke kan besørge en
propageringshastighet som understøtter brukerenes behov, kan lette
eNotifikasjoner benyttes i kombinasjon med eOppslag. De lette
eNotifikasjonene bærer informasjon om <em>hvilke</em> data som har endret seg i
datakilden, og leveres umiddelbart til de som måtte være interessert i
dataendringene. Dette tillater systemet som er avhengig av
provisjonering å hente kun den informasjonen som har blitt endret.</p>
</div>
<div class="paragraph">
<p>Et typisk eksempel på bruk av dette mønsteret er en professor som publiserer en artikkel i Nasjonalt Vitenarkiv. Professorens personprofil på institusjonens nettsider blir oppdatert snarlig etter at  artikkelen er publisert i Nasjonalt Vitenarkiv, siden det blir sendt en lettvekts notifikasjon om registreringen.</p>
</div>
<div class="paragraph">
<p><strong>Fremtidige utvidelser</strong></p>
</div>
<div class="paragraph">
<p>Digitaliseringsdirektoratets referansearkitektur definerer to varianter
av eNotifikasjon, den tidligere omtalte lettvektsvarianten, og en basert
på hendelseslister.</p>
</div>
<div class="paragraph">
<p>Hendelseslister består av notifikasjoner som konsumeres via eOppslag.
Notifikasjonene kan inneholde varierende mengde informasjon, og
propageres ikke like hurtig som lettvektsvarianten beskrevet ovenfor.
Hendelseslistene er persistente av natur (til forskjell fra
lettvektsvarianten, der notifikasjonene «forsvinner» når de er
konsumert), og lar sådan datakilden beskrive en historikk. Et typisk
eksempel på en slik historikk kan være de forskjellige stegene i en
saksbehandlingsprosess, der de forskjellige stegene må være klart
definert for å kunne foreta videre steg i saksbehandlingsprosessen,
eller realisere etterlevelse av juridiske krav.</p>
</div>
<div class="paragraph">
<p>I neste versjon av referansearkitekturen vil det vurderes å inkludere
varianten basert på hendelseslister. Det vil også vurderes å utvide
definisjonen av lettvektsnotifikasjoner slik at de kan bære konkrete
data (også kalt <em>Event Carried State Transfer</em>), til forskjell fra
eksisterende definisjon der de kun bærer en referanse til dataene som er
endret.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eoppslag_verdistrøm_med_kapabiliteter_for_tilbyder_og_konsument_uhf"><a class="anchor" href="#_eoppslag_verdistrøm_med_kapabiliteter_for_tilbyder_og_konsument_uhf"></a>eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF</h3>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/eOppslag%20Verdistrøm%20med%20kapabiliteter%20for%20tilbyder%20og%20konsument%20-%20UHF%20%20.png" alt="eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF   image">
</div>
<div class="title">Figure 2. eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Elementer i view for eOppslag Verdistrøm med kapabiliteter for tilbyder og konsument - UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger slik at det kan oppdages av potensielle konsumenter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre data etter forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre data tilgjengelig for aktører utenfor egen virksomhet på forespørsel.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evne til å avgi data på forespørsel. Data som avgis er klargjort for dette gjennom en API som er publisert, og en API gateway som håndhever tilgangskontroll basert på at tilgang til data er gitt på på forhånd for den aktuelle konsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aksessere data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å aksessere data fra en annen aktør. Evnen kan realiseres enten som utveksling av data, eller gjennom å kunne aksessere data der det ligger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Del  data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verdistrøm for datatilbyderen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhent data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verdistrøm for datakonsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til data (konsument)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_publiser_api"><a class="anchor" href="#_publiser_api"></a>Publiser API</h3>
<div class="paragraph">
<p>En prosessflyt som datatilbyder må gjennomføre for å gjøre et API synlig
og tilgjengelig gjennom kataloger og søkeløsninger. Metadata om APIet
blir registrert i API-katalogen. Metadata inkluderer begreper og
datamodeller omfattet av datasettet som APIet tilgjengeliggjør, samt
tilganger (scopes) knyttet til APIet som kan tildeles konsumenter.</p>
</div>
<div class="paragraph">
<p>APIet registrert i UHF API katalog blir høstet inn i Felles API katalog.
Vi ønsker at tilganger (scopes) i tillegg skal registreres i
Maskinporten slik at konsumenter utenfor UHF sektoren kan oppdage APIet
og be om tilgang på et senere tidspunkt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Publiser%20API.png" alt="Publiser API image">
</div>
<div class="title">Figure 3. Publiser API</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Elementer i view for Publiser API</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OAUTH scopes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Token-egenskaper</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Egenskaper som f.eks. gyldighetstid ved tilgangstoken som er Maskinportens variant av sikkerhetsbillett.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere API i UH/F sektoren</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Programtjeneste for å registrere og vedlikeholde API som er tilgjengelige i Universitets og Høyskole-sektoren</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API Beskrivelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Open API spesifikasjon (har vi føringer på format her)?</p>
</div>
<div class="paragraph">
<p>Vi har behov for en beskrivelse av datamodell og begreper som finnes i begrepskatalog og datamodell katalog. Vi vil bruker det nasjonale om den har funksjonaliteten vi trenger, men det er mulig vi må bruke noe for sektoren om ikke funksjonalitet er dekket.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF definer rettighetter knyttet til APIer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>UHF sentralisert selvbetjeningstjeneste for administrasjon av integrasjoner og APIer.
Tjeneste "administrasjonssentre" vil ha rettigheter til å registrere på vegne av andre f.eks. API-katalogen
Definere hvilke scopes finnes koblet til et API</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre et API synlig og tilgjengelig gjennom kataloger og søkeløsninger slik at det kan oppdages av potensielle konsumenter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å registere API og tilhørende OAUTH scopes i API-katalog, og høste disse opplysningene til Maskinporten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API manager</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API Management omfatter en administrativ komponent, API Manager, som
kontrollerer policy og livssyklus for definisjon og forvaltning av API
og en katalog over tilgjengelige API, API-Katalog (se under).<br>
Tilganger gjennom et API defineres i API manager og tildeles av
autorisasjonstjener.</p>
</div>
<div class="paragraph">
<p>Ansvaret til API manager inkluderer:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sentralisert administrasjon av sikkerhetsretningslinjer for API</p>
</li>
<li>
<p>Sentralisert publisering av API spesifikasjon, for eksempel
OpenAPI/RAML, dokumentasjon</p>
</li>
<li>
<p>Sentralisert API administrasjon og forvaltning av API-katalogen</p>
</li>
<li>
<p>Håndtering av registrerings- og introduksjonsprosesser for API
utviklere</p>
</li>
<li>
<p>Håndtere livssyklusen til et API, utvikling, test, utrulling, nye
versjoner og nedlegging</p>
</li>
<li>
<p>Ivareta registrering, forvaltning og utvikling av konsumentrettigheter</p>
</li>
<li>
<p>Rapportering og analyse for å overvåke bruk og last</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_tilgjengeliggjøre_data_etter_forespørsel_løsningsmønster_uhf"><a class="anchor" href="#_tilgjengeliggjøre_data_etter_forespørsel_løsningsmønster_uhf"></a>Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF</h3>
<div class="paragraph">
<p>En prosessflyt som datatilbyder må gjennomføre for å tildele rettigheter til en konsument som ber om tilgang til data. En datatilbyder mottar forespørsel om tilgang til et API på vegne av en organisasjon eller bruker. Dataeieren tar stilling til om konsumenten skal få tilgang til data gjennom APIet. Tilgang registreres knyttet til konsumentens klient (applikasjonen som benytter APIet) i klientregisteret.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Tilgjengeliggjøre%20data%20etter%20forespørsel%20-%20løsningsmønster%20UHF.png" alt="Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF image">
</div>
<div class="title">Figure 4. Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Elementer i view for Tilgjengeliggjøre data etter forespørsel - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjør API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å tilby data gjennom et API til aktører utenfor egen virksomhet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildele tilganger til API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å registrere hvilke databrukere som skal få tilgang
Sette policy, og grov tilgangsstyring gjennom Maskinporten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å inngå avtale om tilgang og bruk av data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere brukere av samtykke</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å registrere konsumenter som skal ha mulighet for å innhente samtykker som gir tilgang til en tjeneste.</p>
</div>
<div class="paragraph">
<p>Dette utføres kun om det er behov for samtykke for tilgang til dataene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere samtykkebasert tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å registrere konsumenter som ma innhente samtykke som gir grunnlag for utlevering fra datatilbyder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aktører som kan innhente samtykke for bruk av API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over aktører som skal ha mulighet til å innhente samtykke som grunnlag for å få tilgang til data gjennom et API.
URL til konsumenten det kan innhentes samtykke for må inngå i beskrivelsen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgjengeliggjøre data etter forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å gjøre data tilgjengelig for aktører utenfor egen virksomhet på forespørsel.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API tilgangs-forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Godkjenn tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å vurdere og eventuelt gi tilgang for en konsument som ber om tilgang. En tjeneste i UHF Ressursportalen som lar dataforvalteren beslutte tilgang, enten gjennom en automatisert policy eller gjennom en manuell behandling.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildel rettigheter til konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Datakonsument skal kunne finne
tilgjengelige ressurser og be om tilgang til disse. Tilgang kan gis på
grunnlag av eksisterende tillit til datakonsumenten eller per
tilgangsforespørsel der ressurseieren beslutter tilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ressursportal</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ressursportalen tildeler og holder oversikt over tilganger til beskyttede ressurser i høyere utdanning og forskningssektoren i henhold til føringer fra eierne av disse
ressursene. Tilganger er gitt i form av sikkerhetsbilletter.
Ressursportalen er en del av den felles infrastrukturen for føderert API
management for høyere utdanning og forskning. Den registrerer og holder
oversikt over API og meldingsbaserte notifikasjoner, holder oversikt
over klienter som har blitt tildelt tilgang til disse og hvilke
tilganger det gjelder. Ressursportalen benytter JSON Web Token
formattert OAuth2 sikkerhetsbilletter for å gi tilgang til ressurser
gjennom API gateway og meldingstjenester nær de beskyttede ressursene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forespør dataforvalter</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En tjeneste som lar dataforvalteren beslutte datatilgang, enten gjennom en automatisert policy eller gjennom en manuell behandling.</p>
</div>
<div class="paragraph">
<p>Datatilgang kan være lesetilgang, skrivetilgang eller begge deler.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_få_tilgang_til_data_løsningsmønster_uhf"><a class="anchor" href="#_få_tilgang_til_data_løsningsmønster_uhf"></a>Få tilgang til data - løsningsmønster UHF</h3>
<div class="paragraph">
<p>En prosessflyt en konsument av data må gjennomføre for å få tildelt rettigheter til data gjennom et API. Det omfatter å få kjennskap til aktuelt API gjennom API-katalogen, autentisere konsumenten, inngå avtale om bruk av data, samt å registrere tilganger hos den tekniske komponenten som skal utføre tjenestekallet. Dersom det dreier seg om tilgang til et åpent tilgjengelig API, kan enkelte delaktiviteter i prosessene hoppes over, men for å kunne logge informasjon om bruk av APIer bør alle konsumenter av et API registreres i klientregisteret.</p>
</div>
<div class="paragraph">
<p>Viewet bør strengt tatt vise at konsumenten kan finne APIet enten i UHF sektorens API katalog eller i Felles datakatalog. Vi velger å vise prosessflyten kun med UHF sektorens komponenter både for å kunne presentere en oversiktlig prosessflyt og fordi forholdet til de nasjonale felleskomponenter ennå ikke er helt avklart.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Få%20tilgang%20til%20data%20-%20løsningsmønster%20UHF.png" alt="Få tilgang til data - løsningsmønster UHF image">
</div>
<div class="title">Figure 5. Få tilgang til data - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Elementer i view for Få tilgang til data - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å skaffe seg tilgang til tilbudte data fra annen aktør. Omfatte å finne API-er, inngå nødvendige avtaler og få tilganger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å inngå avtale om tilgang og bruk av data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrer klient med tildelt tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for konsument å registerere (provisjonering av) den klienten som skal ha tilgang til API-et ved bruk av sikkerhetsbillett. Dette forutsetter at konsumenten har avtale om bruk av sikkerhetsbillettjenesten og at tilbyder har gitt konsumenten tilgang.</p>
</div>
<div class="paragraph">
<p>Dersom det er en leverandør som har blitt delegert rettigheter som databehandler på vegne av konsument er det leverandøren som registrer sin klient.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finn/få kjennskap til API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å finne eller få kjennskap til tilgjengelige API-er gjennom relevante kataloger og søkeløsninger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrivelse API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som er en maskinlesbar beskrivelse av REST API-er iht. Open API Specification. Dette er formatet som benyttes for å registrere et API i felles API-katalog</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API-søk</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å søke etter og finne tilgjengelige API-er</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Få tilgang til data (konsument)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å skaffe seg tilgang til tilbudte data fra annen aktør.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tildel rettigheter til konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Datakonsument skal kunne finne
tilgjengelige ressurser og be om tilgang til disse. Tilgang kan gis på
grunnlag av eksisterende tillit til datakonsumenten eller per
tilgangsforespørsel der ressurseieren beslutter tilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API tilgangs-forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API eieren får forespørsel om den vil gi konsumenten tilgang til APIet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Autorisasjonstjener</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonstjenester realiserer tilgangskontroll
gjennom å utstede sikkerhetsbilletter. En autorisasjonstjener er også
brukt til å realisere autorisasjonspolicy for tilgang og roller.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OAUTH scopes</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som som kan beskrives som en ressurs-definisjon, og et token er som regel knyttet til ett eller flere scopes. Scopes benyttes til å styre tilganger til API-er og operasjoner, samt eventuelt hva slags responser man får fra API-er.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_innhente_data_løsningsmønster_uhf"><a class="anchor" href="#_innhente_data_løsningsmønster_uhf"></a>Innhente data - løsningsmønster UHF</h3>
<div class="paragraph">
<p>En prosessflyt en konsument utfører når det utføres et tjenestekall for å innhente data gjennom et API. API-adressen hentes i API-katalogen. Tilgang til APIet byttes inn mot et kjøretids-token i autoriseringstjenesten. Tjenestekall til APIet utføres gjennom API gateway der tokenet benyttes for å få tilgang. Dersom det er et åpent API er det kun relevante prossessteg som utføres.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Innhente%20data%20-%20løsningsmønster%20UHF.png" alt="Innhente data - løsningsmønster UHF image">
</div>
<div class="title">Figure 6. Innhente data - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Elementer i view for Innhente data - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Infrastruktur</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samtykkeregistererings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å innhente samtykke fra den registrert som dataene gjelder. Dette kan være en person eller en virksomhet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adressetjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som gir mulighet til å slå opp teknisk endepunkt</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virksomhetssertifikat</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En virksomhets elektroniske ID. Benyttes for å autentisere virksomheten overfor tokentjenesten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokentjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppslag representasjons-forhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som benyttes av tokentjenesten for å kontrollere om det foreligger et delegert representasjonsforhold fra konsument til leverendør i autorisasjonstjenesten til Altinn.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Autorisasjonstjener</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonstjenester realiserer tilgangskontroll
gjennom å utstede sikkerhetsbilletter. En autorisasjonstjener er også
brukt til å realisere autorisasjonspolicy for tilgang og roller.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endepunkt (adresse)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi konsument adgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å gi datakonsument adgang til data. Tjenesten kan realiseres gjennom utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag. Tjenesten kan også realiseres ved å gi konsumenten adgang til data er de ligger, f.eks, innen forskning for analyse av store datamengder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nasjonal Infrastruktur</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aksessere data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å aksessere data fra en annen aktør. Evnen kan realiseres enten som utveksling av data, eller gjennom å kunne aksessere data der det ligger.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Slå opp data gjennom et API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å slå opp og hente data gjennom et API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hent teknisk endepunkt ved behov</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen å slå opp den tekniske adressen til et API før datatilgang gjennom API-et. Gjøres kun dersom det er nødvendig.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Be om tilgangstoken</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å benytte en sikkerhetsbillettjeneste for å hente en sikkerhetsbillett som gir tilgang til et API. Dette forutsetter at alt er registrert og satt opp riktig mot de aktuelle tjenestene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Utfør tjenestekall for innhenting av data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å benytte (gjøre et oppslag mot) et eksternt API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhent samtykke ved behov</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å innhente samtykke fra person eller virksomhet som grunnlag for å innhente eller oppdatere data. Dette gjøres kun ved behov.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_avgi_data_løsningsmønster_uhf"><a class="anchor" href="#_avgi_data_løsningsmønster_uhf"></a>Avgi data - løsningsmønster UHF</h3>
<div class="paragraph">
<p>En prosessflyt en tilbyder av data utfører for å svare på en dataforespørsel. Tilbyder mottar forespørsel om oppslag med et aksesstoken. Klienten som forespør autentiseres og token valideres. Eventuelt mer fin-granulert tilgangskontroll utføres og data returneres. Tilgang kontrolleres kun dersom det er snakk om et sikret API.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Avgi%20data%20-%20løsningsmønster%20UHF.png" alt="Avgi data - løsningsmønster UHF image">
</div>
<div class="title">Figure 7. Avgi data - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Elementer i view for Avgi data - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Egen autorisasjons-komponent</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Komponent for å håndheve virksomhetens regler for tilgang.
Også kalt policy enforcement point (PEP).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgangskontroll-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å sjekke rettigheter til data. Kan være eksterne eller interne tjenester.
Eksempler på rettigheter kan komme av samtykker fra person eller virksomhet, eller rollebasert fra vergemål, familierelasjon el.</p>
</div>
<div class="paragraph">
<p>Konsumenten som forespurte tilgang til data må ha en "authentication grant" som gir rett til operasjonen som er forespurt. Leseoperasjoner må ha lesetilgang og oppdateringsoperasjoner må ha skrivetilgang til data spesifisert.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi forespurte data gjennom API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å avgi data på forespørsel gjennom et egnet API.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta  forespørsel om oppslag</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Motta forespørsler fra API-konsument om å avgi data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å gi svar på forespørselen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Kontroll og håndheving av konsumentens rettigheter til å innhente eller eventuelt oppdatere forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p>
</div>
<div class="paragraph">
<p>Konsumenten som forespurte tilgang til data må ha en "authentication grant" som gir rett til operasjonen som er forespurt. Leseoperasjoner må ha lesetilgang og oppdateringsoperasjoner må ha skrivetilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokenvaliderings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å validere og kontrollere autentisiteten til et OAUTH2 token fra Maskinporten</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avgi data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evne til å avgi data på forespørsel. Data som avgis er klargjort for dette gjennom en API som er publisert, og en API gateway som håndhever tilgangskontroll basert på at tilgang til data er gitt på på forhånd for den aktuelle konsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API Gateway</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API gateway er en tjeneste som tilgjengeliggjør, beskytter og overvåker
tilgang til API-ressurser hos datatilbyder. Den håndhever
tilgangsstyring ved å validere sikkerhetsbilletter og utfører eventuell
fin-granulert tilgangskontroll. Den håndhever også volumbegrensninger og
samler data om bruken av API-er (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og overvåker tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere sikkerhetsbillett</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
</li>
<li>
<p>Håndtere volumbegrensninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>Orkestrering mellom interntjenester</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi konsument adgang til data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å gi datakonsument adgang til data. Tjenesten kan realiseres gjennom utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag. Tjenesten kan også realiseres ved å gi konsumenten adgang til data er de ligger, f.eks, innen forskning for analyse av store datamengder.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_datautveksling_ved_publisering_konsumering_hendelsesbasert"><a class="anchor" href="#_datautveksling_ved_publisering_konsumering_hendelsesbasert"></a>Datautveksling ved publisering – konsumering (hendelsesbasert)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Datautveksling ved publisering og konsumering av hendelser er basert på
<a href="https://nasjonal-arkitektur.github.io/architecture-repository/publish-subscribe/book-publish-subscribe.html">publisering-konsumering</a>
i
<a href="https://nasjonal-arkitektur.github.io/architecture-repository/data-exchange-ra/book-data-exchange-ra.html">Referansearkitektur
for datautveksling fra Digitaliseringsdirektoratet</a>.</p>
</div>
<div class="sect2">
<h3 id="_publisering_av_hendelser_basiskonsept_uhf"><a class="anchor" href="#_publisering_av_hendelser_basiskonsept_uhf"></a>Publisering av hendelser - basiskonsept UHF</h3>
<div class="paragraph">
<p>Hendelser er endringer som oppstår hos en datatilbyder og som
nødvendiggjør at datatilbyder deler denne endringen med andre.</p>
</div>
<div class="paragraph">
<p>Datatilbyder publiserer en hendelse til en hendelsesstrøm. Datakonsument
konsumerer hendelser fra hendelsesstrømmen og om nødvendig gjør
oppdateringer av sine data.</p>
</div>
<div class="paragraph">
<p>Hendelsestrømmer implementeres som lettvekts notifikasjoner i en
notifikasjonskø (publiser/abonner).</p>
</div>
<div class="paragraph">
<p>Alternative måter er blant annet hendelseslister, som beskrevet i
Digitaliseringsdirektoratets referansearkitektur for datadeling og i
kapittelet Datautvekslingsmønster.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Publisering%20av%20hendelser%20-%20basiskonsept%20UHF.png" alt="Publisering av hendelser - basiskonsept UHF image">
</div>
<div class="title">Figure 8. Publisering av hendelser - basiskonsept UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Elementer i view for Publisering av hendelser - basiskonsept UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesstrøm</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mengden av notifikasjoner om endringer hos Datatilbyder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_enotifikasjon_oversikt_over_verdistrømmer_uhf"><a class="anchor" href="#_enotifikasjon_oversikt_over_verdistrømmer_uhf"></a>eNotifikasjon - oversikt over verdistrømmer UHF</h3>
<div class="paragraph">
<p>Den overordnede verdistrømmen vist under skisserer handlingene hos
datatilbyder og datakonsument som inngår i dette utvekslingsmønsteret.
Datatilbyderen oppretter en hendelsesstrøm som datakonsumenten oppdager
og abonnerer på. Datatilbyderen publiserer notifikasjoner om hendelser i
hendelsesstrømmen, og datakonsumenten innhenter disse. Når konsumenten
har mottatt en notifikasjon, vurderer konsumenten om det er behov for å
innhente mer informasjon om hendelsen. I så fall benytter konsumenten
synkront oppslag som beskrevet tidligere for innhentingen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/notifikasjon%20verdistrøm.png" alt="notifikasjon verdistrøm">
</div>
<div class="title">Figure 9. eNotifikasjon verdistrøm</div>
</div>
</div>
<div class="sect2">
<h3 id="_grunnleggende_begreper_for_publisering_av_hendelser_hendelsesliste_publiser_og_abonner_uhf"><a class="anchor" href="#_grunnleggende_begreper_for_publisering_av_hendelser_hendelsesliste_publiser_og_abonner_uhf"></a>Grunnleggende begreper for publisering av hendelser - Hendelsesliste, Publiser og Abonner UHF</h3>
<div class="paragraph">
<p>Notifikasjoner blir publisert i form av publisering/abonnering til en
notifikasjonskø. Hendelseslister er en alternativ måte å beskrive
en slik strøm av hendelser.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Grunnleggende%20begreper%20for%20publisering%20av%20hendelser%20-%20Hendelsesliste,%20Publiser%20og%20Abonner%20UHF.png" alt="Grunnleggende begreper for publisering av hendelser - Hendelsesliste" width="Publiser og Abonner UHF image">
</div>
<div class="title">Figure 10. Grunnleggende begreper for publisering av hendelser - Hendelsesliste, Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Elementer i view for Grunnleggende begreper for publisering av hendelser - Hendelsesliste, Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser/Abonner emne</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En datatilbyder publiserer hendelser relatert til et emne i en notifikasjonskø hos de konsumenter som har abonnert på emnet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonskø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonskø som inneholder notifikasjoner publisert for en gitt abonnent av notifikasjoner om et gitt emne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonen bærer informasjon om en endring i et datagrunnlag. Notifikasjonen har et innhold, som identifiserer hva som er endret, og eventuelt hvordan det er endret.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesstrøm</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mengden av notifikasjoner om endringer hos Datatilbyder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hendelser er det som skjer i den virkelige i verden, som resulterer i endring av et datagrunnlag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subjekt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subjekt er hvem eller hva hendelsen omhandler, slik dette er å oppfatte i den aktuelle konteksten. Dette kan f.eks. være et fysisk objekt (eks. bil), en person, en virksomhet eller et konsept (eks. politikk). Det kan også være en samling av underordnede subjekter, slik som f.eks. en befolkningsgruppe eller alle virksomheter som har et navn som begynner på A.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datagrunnlag</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Assosiert med hver hendelse finnes et datagrunnlag som tilsvarer tilstanden før hendelsen inntraff.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppdatert datagrunnlag</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Assosiert med hver hendelse finnes et oppdatert datagrunnlag som tilsvarer tilstanden etter hendelsen inntraff og reslutert i en endring i datagrunnlaget.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesrelaterte data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjektene som notifikasjoner melder fra om endringer i. Dette kan være små eller store datasett som beskriver datagrunnlaget og aktuelle endringer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesliste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hendelsesliste er løpende varsling om endringer.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_notifikasjonsinnhold_basiskonsept_uhf"><a class="anchor" href="#_notifikasjonsinnhold_basiskonsept_uhf"></a>Notifikasjonsinnhold - basiskonsept UHF</h3>
<div class="paragraph">
<p>Som et minimum må en notifikasjon inneholde en identifikator. Anbefalt innhold er basert på standarden CloudEvents (se Utvikling av ytre API i dette dokumentet)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Notifikasjonsinnhold%20-%20basiskonsept%20UHF.png" alt="Notifikasjonsinnhold - basiskonsept UHF image">
</div>
<div class="title">Figure 11. Notifikasjonsinnhold - basiskonsept UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Elementer i view for Notifikasjonsinnhold - basiskonsept UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesrelaterte data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjektene som notifikasjoner melder fra om endringer i. Dette kan være små eller store datasett som beskriver datagrunnlaget og aktuelle endringer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonen bærer informasjon om en endring i et datagrunnlag. Notifikasjonen har et innhold, som identifiserer hva som er endret, og eventuelt hvordan det er endret.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mulige notifikasjonsinnhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mulige utvidelser av notifikasjonsinnhold utover <em>Minimum notifikasjonsinnhold</em>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifikasjon av type hendelse. Dette kan være et entydig element i et kontrollert vokabular, men det kan også være "fritekst".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Øyeblikkbilde etter hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>De endrede dataenes verdier etter hendelsen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inkrementell endring i øyeblikksbilde av subjekt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En representasjon av <em>endringen</em> som ble gjort på datagrunnlaget.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tidsstempel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Informasjon som identifiserer når forretningshendelsen ble utført. Tidsfesting av hendelser kan benyttes til å sikre at notifikasjoner behandles i riktig rekkefølge.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum notifikasjonsinnhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En notifikasjon består (minst) av en identifikator for notifikasjonen, samt informasjon om hvilke data som har blitt endret (referanse til data) omtalt som «subjekt for hendelse».</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifikator for notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unik identifikator som kan brukes for å referere til selve notifikasjonen, for eksempel i forbindelse med deduplisering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subjekt for hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subjekt for hendelse er den entiteten som hendelsen gjelder; f.eks. en person. Kan være en samling av entiteter, f.eks en angitt befolkningsgruppe.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_inngå_avtaler_om_tilgang_og_levering_av_hendelsesstrømmer_publiser_og_abonner_uhf"><a class="anchor" href="#_inngå_avtaler_om_tilgang_og_levering_av_hendelsesstrømmer_publiser_og_abonner_uhf"></a>Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF</h3>
<div class="paragraph">
<p>Datatibyder mottar forespørsel om å inngå avtale om tilgang og innhenting av hendelsesstrømmer
Hendelsesstrømmen kan være i form av en hendelsesliste eller abonnement på et emne (notifikasjonskø).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Inngå%20avtaler%20om%20tilgang%20og%20levering%20av%20hendelsesstrømmer%20-%20Publiser%20og%20Abonner%20UHF%20.png" alt="Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF  image">
</div>
<div class="title">Figure 12. Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Elementer i view for Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi tilgang til notifikasjoner og hendelser</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med oppsett for å gi tilgang til notifikasjoner og hendelser.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta forespørsel om tilgang til hendelsesstrømmer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å motta forespørsel om tilgang til notifikasjoner på hendelseslister.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang som abonnement på publisert notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess der behovet for konsum av notifikasjoner dokumenteres.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtaler om tilgang og levering av hendelsesstrømmer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å inngå avtaler med datakonsumenter om tilgengjengeliggjøring av hendelseslister med notifikasjoner om hendelser.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrering av konsument som abonnent på notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjenesten som holder oversikt over hvilke konsumenter som ønsker å motta notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_inngå_avtaler_om_tilgang_og_innhenting_av_hendelsesstrømmer_hendelsesliste_og_publiser_og_abonner_uhf"><a class="anchor" href="#_inngå_avtaler_om_tilgang_og_innhenting_av_hendelsesstrømmer_hendelsesliste_og_publiser_og_abonner_uhf"></a>Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF</h3>
<div class="paragraph">
<p>Datakonsument inngår avtale om tilgang og innhenting av hendelsesstrømmer
Hendelsesstrømmen kan være i form av en hendelsesliste eller abonnement på et emne (notifikasjonskø).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Inngå%20avtaler%20om%20tilgang%20og%20innhenting%20av%20hendelsesstrømmer%20-%20Hendelsesliste%20og%20Publiser%20og%20Abonner%20UHF.png" alt="Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF image">
</div>
<div class="title">Figure 13. Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Elementer i view for Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrive behov og tilganger</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å beskrive hvilke tilganger konsument har rettigeheter til og hvilken type notifikasjoner som er aktuelle.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtaler om tilgang og innhenting av hendelsesstrømmer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å inngå avtaler med datatilbyder om tilgang til hendelser gjennom hendelseslister med notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_generere_og_publisere_notifikasjoner_publiser_og_abonner_uhf"><a class="anchor" href="#_generere_og_publisere_notifikasjoner_publiser_og_abonner_uhf"></a>Generere og publisere notifikasjoner - Publiser og Abonner UHF</h3>
<div class="paragraph">
<p>Datatilbyder publiserer en notifikasjon til en Notifikasjonsdistribusjon i form av en publisering/abonneringsløsning. Notifikasjonsdistribusjonen er realisert som en publisert kø per abonnent med et emne.</p>
</div>
<div class="paragraph">
<p>Datatilbyder publiserer notifikasjoner til disse køene når hendelser
oppstår hos datatilbyder.</p>
</div>
<div class="paragraph">
<p>Hver enkelt abonnent har en innboks som abonnenten konsumerer. Notifikasjoner er transient og forsvinner fra innboksen etter at de er konsumert.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Generere%20og%20publisere%20notifikasjoner%20-%20Publiser%20og%20Abonner%20UHF%20.png" alt="Generere og publisere notifikasjoner - Publiser og Abonner UHF  image">
</div>
<div class="title">Figure 14. Generere og publisere notifikasjoner - Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. Elementer i view for Generere og publisere notifikasjoner - Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generere og publisere notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å generere notifikasjoner som data om hendelser, samt å publisere slike notifikasjoner i en eller flere hendelseslister, eventuelt tilpasset ulike målgrupper.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generer og publiser notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å dele informasjon om hendelser.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generer notifikasjon ut fra hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å generere en notifikasjon på bakgrunn av en hendelse(endring i datagrunnlaget).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser notifikasjon - Publiser/Abonner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess der notifikasjonen fra "Generer notifikasjon ut fra hendelse” overleveres Notifikasjonsdistribusjon for eventuell levering til konsumenter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En notifikasjon informerer om at en hendelse har inntruffet og kan inneholde eller  peke til hele eller deler av det totale settet av aktuelle, hendelsesrelaterte data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generering av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som genererer notifikasjoner basert på hendelser, der alle aktuelle grunnlagsdata er med eller lenket til.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Komplett notifikasjon, tilbyders domene</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjon som inneholder eller lenker til et fullstendig sett av hendelsesrelaterte data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonsdistribusjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjenesten mottar notifikasjoner fra tilbyder og distribuerer notifikasjoner til konsumenter som har interesse av gitte notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En hendelse som resulterer i endring av et datagrunnlag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonskø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonskø som inneholder notifikasjoner publisert for en gitt abonnent av notifikasjoner om et gitt emne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tynn notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjon med beskjed om hva som har skjedd og hvor man finner resultatet, dvs peker mot datagrunnlaget.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meldingsformidler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Når en meldingsformidler skiver en notifikasjon i meldingskø plasseres det i meldingskø hos alle abonnenter (i hver sin kø).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_konsumer_notifikasjoner_publiser_og_abonner_uhf"><a class="anchor" href="#_konsumer_notifikasjoner_publiser_og_abonner_uhf"></a>Konsumer notifikasjoner - Publiser og Abonner UHF</h3>
<div class="paragraph">
<p>Datakonsument lytter på emner som konsumenten abonnerer på hos
Datatilbyder. Når en ny notifikasjon kommer i notifikasjonskøen trigges
konsumering av notifikasjonen.</p>
</div>
<div class="paragraph">
<p>Datakonsumenten vurderer relevans med basis i regler definert for
abonnenten og foretar videre behandling av notifikasjon.</p>
</div>
<div class="paragraph">
<p>Videre behandling består av å gjøre et eOppslag (via API) som beskrevet
i «Løsningsmønster forespørsel UHF» dersom konsumenten har behov for
ytterligere informasjon om hendelsen beskrevet i notifikasjonen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Konsumer%20notifikasjoner%20-%20Publiser%20og%20Abonner%20UHF.png" alt="Konsumer notifikasjoner - Publiser og Abonner UHF image">
</div>
<div class="title">Figure 15. Konsumer notifikasjoner - Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Elementer i view for Konsumer notifikasjoner - Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhente og håndtere notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å konsumere hendelseslister ved å innhente notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konsumer notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å lese og håndtere notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vurder relevans av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess med å vurdere om hendelsen knyttet til lest notifikasjon er relevant for konsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forkast notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess med å forkaste notifikasjon som ikke er relevant for virksomheten. Avhengig av krav til personvern og informasjonssikkerhet kan det være særskilte krav til hva som er lov å beholde.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Videre behandling av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess med videre behandling av en notifikasjon som normalt vil være å innhente mer informasjon om hendelsen eller subjektet notifikasjonen er knyttet til og eventuelt agere ut ifra denne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lytt på abonnert notifikasjonskø/emne</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess der notifikasjoner innhentes fra tilbyder av notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kriterier og regler for å vurdere relevans av notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Informasjon om hva som legges til grunn for å vurdere relevansen av en hendelse, basert på informasjon i lest notifikasjon.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonsdistribusjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjenesten mottar notifikasjoner fra tilbyder og distribuerer notifikasjoner til konsumenter som har interesse av gitte notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonskø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonskø som inneholder notifikasjoner publisert for en gitt abonnent av notifikasjoner om et gitt emne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meldingsformidler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Når en meldingsformidler skiver en notifikasjon i meldingskø plasseres det i meldingskø hos alle abonnenter (i hver sin kø).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_oppdatering"><a class="anchor" href="#_oppdatering"></a>Oppdatering</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Datatilbyder kan gjøre oppdatering av data tilgjengelig for
datakonsument gjennom et API. Prosessen for en datakonsument å be om
tilgang til oppdatering (se <em>Få tilgang til data</em>) og for en
datatilbyder å gi tilgang til oppdatering (se <em>Tilgjengeliggjøre data
etter forespørsel</em>) er tilsvarende som for tilgang til å lese data. Det
vil ofte være forskjellige kriterier som må oppfylles for å få lov til å
oppdatere data enn for å lese data. Dette kan inkludere både
kvalitetssikring og juridiske hensyn.</p>
</div>
<div class="sect2">
<h3 id="_be_om_oppdatering_løsningsmønster_i_uhf_sektoren"><a class="anchor" href="#_be_om_oppdatering_løsningsmønster_i_uhf_sektoren"></a>Be om oppdatering  - løsningsmønster i UHF sektoren</h3>
<div class="paragraph">
<p>En prosessflyt en konsument utfører når det utføres et tjenestekall for å be om en oppdatering av data gjennom et API. API-adressen hentes i API-katalogen. Tilgang til APIet byttes inn mot et kjøretids-token i autoriseringstjenesten. Tjenestekall til APIet utføres gjennom API gateway der tokenet benyttes for å få tilgang.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Be%20om%20oppdatering%20%20-%20løsningsmønster%20i%20UHF%20sektoren%20.png" alt="Be om oppdatering  - løsningsmønster i UHF sektoren  image">
</div>
<div class="title">Figure 16. Be om oppdatering  - løsningsmønster i UHF sektoren</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Elementer i view for Be om oppdatering  - løsningsmønster i UHF sektoren</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samtykkeregistererings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å innhente samtykke fra den registrert som dataene gjelder. Dette kan være en person eller en virksomhet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adressetjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som gir mulighet til å slå opp teknisk endepunkt</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virksomhetssertifikat</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En virksomhets elektroniske ID. Benyttes for å autentisere virksomheten overfor tokentjenesten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokentjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som utsteder sikkerhetsbilletter. Sikkerhetsbillett utstedes basert på tildelte rettigheter og eventuelle representasjonsforhold.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppslag representasjons-forhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som benyttes av tokentjenesten for å kontrollere om det foreligger et delegert representasjonsforhold fra konsument til leverendør i autorisasjonstjenesten til Altinn.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilganger konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over hvilke API og OAUTH-scopes en virksomhet (representert ved organisasjonsnummer) skal ha tilgang til (utstedt token for).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Autorisasjonstjener</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonstjenester realiserer tilgangskontroll
gjennom å utstede sikkerhetsbilletter. En autorisasjonstjener er også
brukt til å realisere autorisasjonspolicy for tilgang og roller.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF API katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle API som er registrert i UH/F sektoren</p>
</div>
<div class="paragraph">
<p>UH/F API katalog kan inneholde</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navn på API</p>
</li>
<li>
<p>Tekstlig beskrivelse av API</p>
</li>
<li>
<p>Informasjonsmodell / Datamodell for API som tilbys</p>
</li>
<li>
<p>Kildeinformasjon for data, begrepsinformasjon</p>
</li>
<li>
<p>Eksempelkode, interaktiv API-konsoll og sandkasse for test</p>
</li>
<li>
<p>Informasjon om hvordan få support og hjelp fra utsteder</p>
</li>
<li>
<p>Informasjon om tilgang, juridiske og tekniske begrensinger for bruk. Inkluderer hvilke rettighetter (OAuth2 scopes) en konsument kan få til et API.</p>
</li>
<li>
<p>Grensesnitt for å presentere APIer</p>
</li>
<li>
<p>Grensesnitt for å søke etter APIer</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endepunkt (adresse)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjekt som representerer teknisk adresse til et API eller ressurs.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinporten</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maskinporten sørger for sikker autentisering og tilgangskontroll for datautveksling mellom
virksomheter, maskin til maskin. Dette gir teknisk og organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Maskinporten:
<a href="https://www.digdir.no/digitale-felleslosninger/maskinporten/869" class="bare">https://www.digdir.no/digitale-felleslosninger/maskinporten/869</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Felles API-katalog</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Del av Felles datakatalog som gir mulighet for å søke etter API-er og lese API-spesifikasjoner <a href="https://fellesdatakatalog.brreg.no/apis" class="bare">https://fellesdatakatalog.brreg.no/apis</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Be om oppdatering</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å be en datakilde om å utføre en oppdatering av data i kilden.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Be om tilgangstoken</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å benytte en sikkerhetsbillettjeneste for å hente en sikkerhetsbillett som gir tilgang til et API. Dette forutsetter at alt er registrert og satt opp riktig mot de aktuelle tjenestene.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hent teknisk endepunkt ved behov</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen å slå opp den tekniske adressen til et API før datatilgang gjennom API-et. Gjøres kun dersom det er nødvendig.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhent samtykke ved behov</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess for å innhente samtykke fra person eller virksomhet som grunnlag for å innhente eller oppdatere data. Dette gjøres kun ved behov.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_håndtere_forespørsel_om_oppdatering_løsningsmønster_uhf"><a class="anchor" href="#_håndtere_forespørsel_om_oppdatering_løsningsmønster_uhf"></a>Håndtere forespørsel om oppdatering  - løsningsmønster UHF</h3>
<div class="paragraph">
<p>En prosessflyt en tilbyder av data utfører for å svare på en
oppdateringsforespørsel. Tilbyder mottar forespørsel om oppdatering med
et aksesstoken. Klienten som forespør autentiseres og token valideres.
Eventuelt mer fin-granulert tilgangskontroll utføres og data oppdateres.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Håndtere%20forespørsel%20om%20oppdatering%20%20-%20løsningsmønster%20UHF%20.png" alt="Håndtere forespørsel om oppdatering  - løsningsmønster UHF  image">
</div>
<div class="title">Figure 17. Håndtere forespørsel om oppdatering  - løsningsmønster UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. Elementer i view for Håndtere forespørsel om oppdatering  - løsningsmønster UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Egen autorisasjons-komponent</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Komponent for å håndheve virksomhetens regler for tilgang.
Også kalt policy enforcement point (PEP).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn autorisasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Autorisasjonskomponenten i Altinn som gir muligheter til å delegere rettigheter til andre organisasjoner eller personer. Rettigheter til bruk av autorisasjonskomponenten baserer seg på registrerte roller i Enhetsregisteret.
Altinn autorisasjon leverer også tjenester for å registrere og kontrollere samtykke gitt av person eller virksomhet.</p>
</div>
<div class="paragraph">
<p>Altinn autorisasjon gir teknisk samhandlingsevne ved at bruker logger inn med elektronisk ID,
autorisasjonskomponenten sjekker at bruker har de tilgangene som kreves for å ta i bruk aktuell tjeneste.</p>
</div>
<div class="paragraph">
<p>Dersom en privatperson skal ta i bruk en tjeneste på vegne av en virksomhet, gjøres det et oppslag mot Enhetsregisteret for å bekrefte at personen har en rolle på vegne av virksomheten. Dette gir organisatorisk samhandlingsevne.</p>
</div>
<div class="paragraph">
<p>Mer om Altinn autorisasjon:
<a href="https://www.altinndigital.no/produkter/styring-av-tilgang/" class="bare">https://www.altinndigital.no/produkter/styring-av-tilgang/</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgangskontroll-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for å sjekke rettigheter til data. Kan være eksterne eller interne tjenester.
Eksempler på rettigheter kan komme av samtykker fra person eller virksomhet, eller rollebasert fra vergemål, familierelasjon el.</p>
</div>
<div class="paragraph">
<p>Konsumenten som forespurte tilgang til data må ha en "authentication grant" som gir rett til operasjonen som er forespurt. Leseoperasjoner må ha lesetilgang og oppdateringsoperasjoner må ha skrivetilgang til data spesifisert.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datautvekslings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste for utveksling av data over aktuell transportprotokoll, f.eks, gjennom asynkrone medlinger eller synkrone API-oppslag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tokenvaliderings-tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som benyttes av tilbyder for å validere og kontrollere autentisiteten til et OAUTH2 token fra Maskinporten</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">API Gateway</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>API gateway er en tjeneste som tilgjengeliggjør, beskytter og overvåker
tilgang til API-ressurser hos datatilbyder. Den håndhever
tilgangsstyring ved å validere sikkerhetsbilletter og utfører eventuell
fin-granulert tilgangskontroll. Den håndhever også volumbegrensninger og
samler data om bruken av API-er (logging).</p>
</div>
<div class="paragraph">
<p>Komponent som beskytter ressursene og overvåker tilgang inklusivt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Validere sikkerhetsbillett</p>
</li>
<li>
<p>Beskytte mot inntrenging og andre trusler</p>
</li>
<li>
<p>Håndtere volumbegrensninger</p>
</li>
<li>
<p>Håndheve tilgangsstyring</p>
</li>
<li>
<p>Samle inn data om bruken av API-er</p>
</li>
<li>
<p>Orkestrering mellom interntjenester</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Håndtere forespørsel om oppdatering</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å utføre oppdatering på kildedata dersom den som forespør oppdateringen har rettigheter til det.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppdater kilde etter forespørsel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å utføre oppdatering av data i en kilde. Omfatter verifisering av konsumenten, rettighetene og masterdata status.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Autentisere konsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å autentisere en konsument.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller tilgang</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Kontroll og håndheving av konsumentens rettigheter til å innhente eller eventuelt oppdatere forespurte data.  I tillegg til "validering av sikkerhetsbillet", kan det være behov for kontroll mot virksomhetsinterne policies.</p>
</div>
<div class="paragraph">
<p>Konsumenten som forespurte tilgang til data må ha en "authentication grant" som gir rett til operasjonen som er forespurt. Leseoperasjoner må ha lesetilgang og oppdateringsoperasjoner må ha skrivetilgang.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontroller masterdata status og oppdater data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Datatilbyderen skal kun oppdatere data som hen er autoritativ for (masterdata). Datatilbyder verifiserer at kilden er autoritativ for data som skal oppdateres, og deretter utfører oppdateringen. Dersom objektet ikke finnes kan operasjonen medføre opprettelse av objektet.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
