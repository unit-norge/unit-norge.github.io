<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Rutiner :: Referansearkitekturer i høyere utdanning og forskning</title>
    <link rel="canonical" href="https://unit-norge.github.io/unit-ra/main/unit-ra-datadeling-rutiner/Rutiner.var.2.html">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://unit-norge.github.io">Referansearkitekturer i høyere utdanning og forskning</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="unit-ra" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../om-hkdir-referansearkitekturer.html">Om våre referansearkitekturer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../unit-ra-datadeling-sammendrag/Sammendrag.html">Sammendrag</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Bøker/Referansearkitektur%20for%20deling%20av%20data%20i%20høyere%20utdanning%20og%20forsking.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-introduksjon/Introduksjon.html">Introduksjon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-tilnærming/Tilnærming%20til%20utvikling%20av%20referansearkitekturen.html">Tilnærming til utvikling av referansearkitekturen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-roller/Roller%20og%20ansvar%20for%20informasjonsforvaltning.html">Roller og ansvar for informasjonsforvaltning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-målarkitekturen/Datadelingsplattformen%20og%20fellestjenestene%20i%20den.html">Datadelingsplattformen og fellestjenestene i den</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-datautveksling/Datautveksling.html">Datautveksling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="Rutiner.html">Rutiner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-vedlegg-a/Vedlegg%20A;%20Definisjoner.html">Vedlegg A: Definisjoner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-vedlegg-b/Vedlegg%20B;%20Behov%20for%20avklaringer%20og%20utfordringer%20i%20sektorenes%20kontekst.html">Vedlegg B: Behov for avklaringer og utfordringer i sektorenes kontekst</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-vedlegg-c/Vedlegg%20C;%20Integrasjonsprinsipper.html">Vedlegg C: Integrasjonsprinsipper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-vedlegg-d/Vedlegg%20D;%20Behov%20og%20bruksområder.html">Vedlegg D: Behov og bruksområder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-vedlegg-e/Vedlegg%20E;%20Føringer.html">Vedlegg E: Føringer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../unit-ra-datadeling-vedlegg-f/Vedlegg%20F;%20Bruk%20av%20Archimate.html">Vedlegg F: Bruk av Archimate</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Referansearkitekturer i høyere utdanning og forskning</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">main</a>
        </li>
        <li class="version">
          <a href="../../1.0/index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></li>
    <li><a href="Rutiner.var.2.html">Rutiner</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">main</button>
  <div class="version-menu">
    <a class="version is-current" href="Rutiner.var.2.html">main</a>
    <a class="version" href="../../1.0/unit-ra-datadeling-rutiner/Rutiner.var.2.html">1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/unit-norge/unit-ra/edit/main/docs/modules/unit-ra-datadeling-rutiner/pages/Rutiner.var.2.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Rutiner</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Vi forutsetter og bygger på en viss fremgang i arbeid med
<a href="https://data.norge.no/guide/veileder-orden-i-eget-hus/">orden i eget hus</a>
hos deltagende virksomheter der noen datasett er dokumentert i en
datakatalog. Dette kan enten være Digitaliseringsdirektoratets
<a href="https://data.norge.no/">Felles datakatalog</a>, eller en fremtidig katalog
for høyere utdanning og forskningssektoren som høstes inn i Felles
datakatalogen.</p>
</div>
<div class="paragraph">
<p>Vi skisserer en tilnærming til indre og ytre API basert på Gartners MASA
arkitektur<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> som var brukt i evalueringen av Felles Studentsystem
i 2020</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_indre_api"><a class="anchor" href="#_indre_api"></a>Indre API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Indre API eksponerer masterdata (informasjon om objekter i domenet) som
er strukturert i henhold til semantikk i domenet den tilhører, og må ta
ansvar for den semantiske validiteten til data den eksponerer. Indre API
er laget for å være mest mulig generell og ikke laget for noen spesifikk
prosesskontekst.</p>
</div>
<div class="paragraph">
<p>[Vi tenker å utdype her på et senere tidspunkt.]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ytre_api"><a class="anchor" href="#_ytre_api"></a>Ytre API</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ytre API benyttes i en forretningsprosesskontekst og datasett eksponert
gjennom en ytre API er laget for å møte behovene til prosessen. Ytre API
kan benyttes i både grunnleggende og bruksnære domener. En tilnærming
til definisjon av APIer og datasett for prosesstøtte er beskrevet under.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Melde behov, gjerne av datakonsumentene</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Tjenesteansvarlig kjører periodisk prosess for å samle innspill og
prioritere</p>
</li>
<li>
<p>Vurder å kjøre tjenestedesign workshop for å beskrive bruksscenariene</p>
</li>
</ol>
</div>
</li>
<li>
<p>Analysere behov og finne ut hvilke domener, kilder og datasett som er
involvert</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Tjenesteansvarlig identifiserer berørte interessenter, potensielt
andre tjenesteansvarlige, dataforvalter, domeneansvarlig og
begrepsansvarlig</p>
</li>
<li>
<p>Tjenesteansvarlig må vurdere og eventuelt sette i gang juridiske
avklaringer omkring deling av data</p>
</li>
</ol>
</div>
</li>
<li>
<p>Kjør begrepsharmonisering etter behov med relevante interessenter</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Følg
<a href="https://data.norge.no/specification/forvaltningsstandard-begrepskoordinering/">standarden
om Begrepsharmonisering og begrepsdifferensiering</a> og <a href="https://kunnskapsdata.no/">føringer fra Rammeverk for begrepskoordinering i KUDAF</a>
(<a href="https://laeringsplattformen.difi.no/kurs/971527404/begrip-begrepene-et-innforingskurs-i-terminologi-og-begrepsarbeid">kurs
om begrepsarbeid</a> er en utfyllende ressurs)</p>
</li>
</ol>
</div>
</li>
<li>
<p>Publiser nye eller oppdaterte begreper i UHF begrepskatalog (eventuelt
i begrepskatalogen under <a href="https://data.norge.no/concepts">Felles datakatalog</a>)</p>
</li>
<li>
<p>Identifiser hva må skapes, harmoniseres eller videreutvikles. Pass på
at funksjonaliteten spesifisert i grensesnittet dekker kun det som
trengs for å støtte brukstilfellet under utvikling som prinsipp for god design.
I tillegg må all behandling av personopplysninger være adekvat, relevant og begrenset til det som er nødvendig for formålene de behandles for. Dette innebærer blant annet at det må vurderes om det definerte formålet kan oppnås med færre personopplysninger, eventuelt avidentifiserte opplysninger, samt at tilgangsvisning og lagringstid må søkes minimert til det som er nødvendig.</p>
</li>
<li>
<p>Sikre at data i alle steg i verdikjeden passer til den tenkte
anvendelsen.</p>
</li>
<li>
<p>Definere API/datasett i team med representasjon fra både bruksmiljø og
produsent. Det kan ta noen iterasjoner med utprøving av API før man er
fornøyd. Senere oppdateringer kan kjøres som iterasjoner da man allerede
har resultatene fra tidligere steg.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Designe nødvendig API for brukskonteksten.</p>
</li>
<li>
<p>Mappe nødvendig funksjonalitet til API fra grunnleggende domener.</p>
</li>
<li>
<p>Designe «API mediation», det vil si hvordan datasettet spesifisert i
det ytre APIet tilgjengeliggjøres. Oppgaven inkluderer mapping til indre
API som benyttes med nødvendig oversetting av protokoller, formater og
datastrukturer, samt etterlevelse av policy for sikkerhet og
volumbegrensninger.</p>
</li>
<li>
<p>Implementere tjenestene</p>
</li>
<li>
<p>Koordinere mellom APIene for å sikre sammenhengende brukeropplevelse
mellom APIene</p>
</li>
<li>
<p>Publisere APIene og datasett i UHF API katalog (eventuelt felles
datakatalog) i henhold til
<a href="https://data.norge.no/specification/dcat-ap-no/">DCAT-AP-NO</a></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notifikasjoner"><a class="anchor" href="#_notifikasjoner"></a>Notifikasjoner</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Når en hendelse endrer data hos en datatilbyder, og disse data deles
gjennom datadeling med notifikasjon, skal det sendes en notifikasjon til
datakonsument.<br>
Notifikasjoner omhandler hvilke data i det tilhørende API som er endret.
Notifikasjonen er sådan <em>operasjonell</em>, den melder fra om hvilke data som er endret, men ikke hvilken forretningshendelse som har inntruffet.</p>
</div>
<div class="paragraph">
<p>For å utvikle notifikasjoner følges tilsvarende prosess som for API
over. Det vil si at notifikasjoner, som beskrevet i denne
referansearkitekturen, er knyttet til API der datakonsumenten henter ut
data. Det vesentlige av beskrivelse for datautvekslingen ligger derfor
til utviklingen av API som hører sammen med notifikasjonen.</p>
</div>
<div class="paragraph">
<p>Spesielt for notifikasjoner gjelder følgende:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Notifikasjonen skal gi en meningsfull indikasjon på hvilke data som er
endret i form av liste over endrede attributter i datagrunnlaget.</p>
</li>
<li>
<p>Notifikasjonen skal inneholde en referanse til ressursen (i API-et) der
data kan hentes fra</p>
</li>
<li>
<p>Etterstreb å modellere notifikasjoner etter etablerte standarder</p>
</li>
<li>
<p>Sørg for at meningen notifikasjonene bærer er godt dokumentert i
notifikasjonskatalogen</p>
</li>
<li>
<p>Ressursen, det vil si det API som er knyttet til notifikasjonen, må
være utformet slik at uthenting av data alltid gir siste gyldige
versjon. På den måten vil innhenting hos datakonsument kunne være
idempotent</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Med «idempotent» er det i denne sammenheng ment at man kan kalle på den
samme ressursen flere ganger og alltid få samme resultat.</p>
</div>
<div class="paragraph">
<p>Per i dag er <a href="https://cloudevents.io/">CloudEvents</a> den eneste
generaliserte standarden for hvordan notifikasjoner bør utformes.
Referansearkitekturen anbefaler at CloudEvents tas i bruk som
standardformat for notifikasjoner. CloudEvents er utviklet i regi av
<a href="https://www.cncf.io">Cloud Native Computing Foundation</a>.</p>
</div>
<div class="paragraph">
<p>En notifikasjon utformet etter minstekravene til CloudEvents med JSON
Event Format ser typisk ut:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>{"id": "935ec740-d4a4-418d-b6c3-282d6fd2305b",</p>
</div>
<div class="paragraph">
<p>"specversion": "1.0",</p>
</div>
<div class="paragraph">
<p>"time": "2020-11-19T17:30:41.244Z",</p>
</div>
<div class="paragraph">
<p>"source": "urn:no-edu-orgreg:ntnu:ou:1260",</p>
</div>
<div class="paragraph">
<p>"type": "orgreg.v1.ntnu.dev.ou.create"}</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>I eksempelet på en notifikasjon ovenfor meddeles det at det har blitt
opprettet en organisatorisk enhet ved NTNU med identifikatoren 1260.</p>
</div>
<div class="paragraph">
<p>Bruk av et felles notifikasjonsformat tilrettelegger for gjenbruk av
komponenter på tvers av tjenester da en notifikasjon er velstrukturert
og de informasjonsbærende elementer er strengt definert. I de tilfeller
det er nødvendig å inkludere informasjonsbærende elementer som ikke er
inkludert i standarden, er standarden mulig å utvide. Standarden legger
også til rette for en rekke operasjonelle kapabiliteter (eksempelvis
deduplisering) gjennom informasjonselementene som er påkrevet i
standarden.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. MASA: How to Create an Agile Application Architecture With Apps, APIs and Services Published 3 February 2020 - ID G00451136; Gartner
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
