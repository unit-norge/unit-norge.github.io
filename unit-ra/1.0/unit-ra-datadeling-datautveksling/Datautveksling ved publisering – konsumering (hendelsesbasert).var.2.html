<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Datautveksling ved publisering – konsumering (hendelsesbasert) :: Referansearkitekturer i høyere utdanning og forskning</title>
    <link rel="canonical" href="https://unit-norge.github.io/unit-ra/main/unit-ra-datadeling-datautveksling/Datautveksling%20ved%20publisering%20–%20konsumering%20(hendelsesbasert).var.2.html">
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://unit-norge.github.io">Referansearkitekturer i høyere utdanning og forskning</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="unit-ra" data-version="1.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../om-hkdir-referansearkitekturer.html">Om våre referansearkitekturer</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../main/unit-ra-datadeling-sammendrag/Sammendrag.html">Sammendrag</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../../main/Bøker/Referansearkitektur%20for%20deling%20av%20data%20i%20høyere%20utdanning%20og%20forsking.html">Referansearkitektur for deling av data i høyere utdanning og forsking</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-introduksjon/Introduksjon.html">Introduksjon</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-tilnærming/Tilnærming%20til%20utvikling%20av%20referansearkitekturen.html">Tilnærming til utvikling av referansearkitekturen</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-roller/Roller%20og%20ansvar%20for%20informasjonsforvaltning.html">Roller og ansvar for informasjonsforvaltning</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-målarkitekturen/Datadelingsplattformen%20og%20fellestjenestene%20i%20den.html">Datadelingsplattformen og fellestjenestene i den</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-datautveksling/Datautveksling.html">Datautveksling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-rutiner/Rutiner.html">Rutiner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-a/Vedlegg%20A;%20Definisjoner.html">Vedlegg A: Definisjoner</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-b/Vedlegg%20B;%20Behov%20for%20avklaringer%20og%20utfordringer%20i%20sektorenes%20kontekst.html">Vedlegg B: Behov for avklaringer og utfordringer i sektorenes kontekst</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-c/Vedlegg%20C;%20Integrasjonsprinsipper.html">Vedlegg C: Integrasjonsprinsipper</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-d/Vedlegg%20D;%20Behov%20og%20bruksområder.html">Vedlegg D: Behov og bruksområder</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-e/Vedlegg%20E;%20Føringer.html">Vedlegg E: Føringer</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../main/unit-ra-datadeling-vedlegg-f/Vedlegg%20F;%20Bruk%20av%20Archimate.html">Vedlegg F: Bruk av Archimate</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Referansearkitekturer i høyere utdanning og forskning</span>
    <span class="version">1.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../main/index.html">Referansearkitekturer i høyere utdanning og forskning</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../main/index.html">main</a>
        </li>
        <li class="version is-current">
          <a href="../index.html">1.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../main/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Referansearkitekturer i høyere utdanning og forskning</a></li>
    <li><a href="Datautveksling%20ved%20publisering%20–%20konsumering%20(hendelsesbasert).var.2.html">Datautveksling ved publisering – konsumering (hendelsesbasert)</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">1.0</button>
  <div class="version-menu">
    <a class="version" href="../../main/unit-ra-datadeling-datautveksling/Datautveksling%20ved%20publisering%20–%20konsumering%20(hendelsesbasert).var.2.html">main</a>
    <a class="version is-current" href="Datautveksling%20ved%20publisering%20–%20konsumering%20(hendelsesbasert).var.2.html">1.0</a>
  </div>
</div>
  <div class="edit-this-page"><a href="https://github.com/unit-norge/unit-ra/edit/v1.0/docs/modules/unit-ra-datadeling-datautveksling/pages/Datautveksling%20ved%20publisering%20–%20konsumering%20(hendelsesbasert).var.2.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Datautveksling ved publisering – konsumering (hendelsesbasert)</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Datautveksling ved publisering og konsumering av hendelser er basert på
<a href="https://nasjonal-arkitektur.github.io/architecture-repository/publish-subscribe/book-publish-subscribe.html">publisering-konsumering</a>
i
<a href="https://nasjonal-arkitektur.github.io/architecture-repository/data-exchange-ra/book-data-exchange-ra.html">Referansearkitektur
for datautveksling fra Digitaliseringsdirektoratet</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_publisering_av_hendelser_basiskonsept_uhf"><a class="anchor" href="#_publisering_av_hendelser_basiskonsept_uhf"></a>Publisering av hendelser - basiskonsept UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hendelser er endringer som oppstår hos en datatilbyder og som
nødvendiggjør at datatilbyder deler denne endringen med andre.</p>
</div>
<div class="paragraph">
<p>Datatilbyder publiserer en hendelse til en hendelsesstrøm. Datakonsument
konsumerer hendelser fra hendelsesstrømmen og om nødvendig gjør
oppdateringer av sine data.</p>
</div>
<div class="paragraph">
<p>Hendelsestrømmer implementeres som lettvekts notifikasjoner i en
notifikasjonskø (publiser/abonner).</p>
</div>
<div class="paragraph">
<p>Alternative måter er blant annet hendelseslister, som beskrevet i
Digitaliseringsdirektoratets referansearkitektur for datadeling og i
kapittelet Datautvekslingsmønster.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Publisering%20av%20hendelser%20-%20basiskonsept%20UHF.png" alt="Publisering av hendelser - basiskonsept UHF image">
</div>
<div class="title">Figure 1. Publisering av hendelser - basiskonsept UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Elementer i view for Publisering av hendelser - basiskonsept UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesstrøm</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mengden av notifikasjoner om endringer hos Datatilbyder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_enotifikasjon_oversikt_over_verdistrømmer_uhf"><a class="anchor" href="#_enotifikasjon_oversikt_over_verdistrømmer_uhf"></a>eNotifikasjon - oversikt over verdistrømmer UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Den overordnede verdistrømmen vist under skisserer handlingene hos
datatilbyder og datakonsument som inngår i dette utvekslingsmønsteret.
Datatilbyderen oppretter en hendelsesstrøm som datakonsumenten oppdager
og abonnerer på. Datatilbyderen publiserer notifikasjoner om hendelser i
hendelsesstrømmen, og datakonsumenten innhenter disse. Når konsumenten
har mottatt en notifikasjon, vurderer konsumenten om det er behov for å
innhente mer informasjon om hendelsen. I så fall benytter konsumenten
synkront oppslag som beskrevet tidligere for innhentingen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/notifikasjon%20verdistrøm.png" alt="notifikasjon verdistrøm">
</div>
<div class="title">Figure 2. eNotifikasjon verdistrøm</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grunnleggende_begreper_for_publisering_av_hendelser_hendelsesliste_publiser_og_abonner_uhf"><a class="anchor" href="#_grunnleggende_begreper_for_publisering_av_hendelser_hendelsesliste_publiser_og_abonner_uhf"></a>Grunnleggende begreper for publisering av hendelser - Hendelsesliste, Publiser og Abonner UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Notifikasjoner blir publisert i form av publisering/abonnering til en
notifikasjonskø. Hendelseslister er en alternativ måte å beskrive
en slik strøm av hendelser.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Grunnleggende%20begreper%20for%20publisering%20av%20hendelser%20-%20Hendelsesliste,%20Publiser%20og%20Abonner%20UHF.png" alt="Grunnleggende begreper for publisering av hendelser - Hendelsesliste" width="Publiser og Abonner UHF image">
</div>
<div class="title">Figure 3. Grunnleggende begreper for publisering av hendelser - Hendelsesliste, Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Elementer i view for Grunnleggende begreper for publisering av hendelser - Hendelsesliste, Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser/Abonner emne</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En datatilbyder publiserer hendelser relatert til et emne i en notifikasjonskø hos de konsumenter som har abonnert på emnet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonskø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonskø som inneholder notifikasjoner publisert for en gitt abonnent av notifikasjoner om et gitt emne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonen bærer informasjon om en endring i et datagrunnlag. Notifikasjonen har et innhold, som identifiserer hva som er endret, og eventuelt hvordan det er endret.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesstrøm</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mengden av notifikasjoner om endringer hos Datatilbyder.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hendelser er det som skjer i den virkelige i verden, som resulterer i endring av et datagrunnlag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subjekt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subjekt er hvem eller hva hendelsen omhandler, slik dette er å oppfatte i den aktuelle konteksten. Dette kan f.eks. være et fysisk objekt (eks. bil), en person, en virksomhet eller et konsept (eks. politikk). Det kan også være en samling av underordnede subjekter, slik som f.eks. en befolkningsgruppe eller alle virksomheter som har et navn som begynner på A.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datagrunnlag</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Assosiert med hver hendelse finnes et datagrunnlag som tilsvarer tilstanden før hendelsen inntraff.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppdatert datagrunnlag</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Assosiert med hver hendelse finnes et oppdatert datagrunnlag som tilsvarer tilstanden etter hendelsen inntraff og reslutert i en endring i datagrunnlaget.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesrelaterte data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjektene som notifikasjoner melder fra om endringer i. Dette kan være små eller store datasett som beskriver datagrunnlaget og aktuelle endringer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesliste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hendelsesliste er løpende varsling om endringer.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_notifikasjonsinnhold_basiskonsept_uhf"><a class="anchor" href="#_notifikasjonsinnhold_basiskonsept_uhf"></a>Notifikasjonsinnhold - basiskonsept UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Som et minimum må en notifikasjon inneholde en identifikator. Anbefalt innhold er basert på standarden CloudEvents (se Utvikling av ytre API i dette dokumentet)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Notifikasjonsinnhold%20-%20basiskonsept%20UHF.png" alt="Notifikasjonsinnhold - basiskonsept UHF image">
</div>
<div class="title">Figure 4. Notifikasjonsinnhold - basiskonsept UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Elementer i view for Notifikasjonsinnhold - basiskonsept UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelsesrelaterte data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataobjektene som notifikasjoner melder fra om endringer i. Dette kan være små eller store datasett som beskriver datagrunnlaget og aktuelle endringer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonen bærer informasjon om en endring i et datagrunnlag. Notifikasjonen har et innhold, som identifiserer hva som er endret, og eventuelt hvordan det er endret.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mulige notifikasjonsinnhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mulige utvidelser av notifikasjonsinnhold utover <em>Minimum notifikasjonsinnhold</em>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifikasjon av type hendelse. Dette kan være et entydig element i et kontrollert vokabular, men det kan også være "fritekst".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Øyeblikkbilde etter hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>De endrede dataenes verdier etter hendelsen.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inkrementell endring i øyeblikksbilde av subjekt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En representasjon av <em>endringen</em> som ble gjort på datagrunnlaget.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tidsstempel</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Informasjon som identifiserer når forretningshendelsen ble utført. Tidsfesting av hendelser kan benyttes til å sikre at notifikasjoner behandles i riktig rekkefølge.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimum notifikasjonsinnhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En notifikasjon består (minst) av en identifikator for notifikasjonen, samt informasjon om hvilke data som har blitt endret (referanse til data) omtalt som «subjekt for hendelse».</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifikator for notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Unik identifikator som kan brukes for å referere til selve notifikasjonen, for eksempel i forbindelse med deduplisering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subjekt for hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subjekt for hendelse er den entiteten som hendelsen gjelder; f.eks. en person. Kan være en samling av entiteter, f.eks en angitt befolkningsgruppe.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_inngå_avtaler_om_tilgang_og_levering_av_hendelsesstrømmer_publiser_og_abonner_uhf"><a class="anchor" href="#_inngå_avtaler_om_tilgang_og_levering_av_hendelsesstrømmer_publiser_og_abonner_uhf"></a>Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Datatibyder mottar forespørsel om å inngå avtale om tilgang og innhenting av hendelsesstrømmer
Hendelsesstrømmen kan være i form av en hendelsesliste eller abonnement på et emne (notifikasjonskø).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Inngå%20avtaler%20om%20tilgang%20og%20levering%20av%20hendelsesstrømmer%20-%20Publiser%20og%20Abonner%20UHF%20.png" alt="Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF  image">
</div>
<div class="title">Figure 5. Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Elementer i view for Inngå avtaler om tilgang og levering av hendelsesstrømmer - Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi tilgang til notifikasjoner og hendelser</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med oppsett for å gi tilgang til notifikasjoner og hendelser.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta forespørsel om tilgang til hendelsesstrømmer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å motta forespørsel om tilgang til notifikasjoner på hendelseslister.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtale om tilgang som abonnement på publisert notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess der behovet for konsum av notifikasjoner dokumenteres.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtaler om tilgang og levering av hendelsesstrømmer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å inngå avtaler med datakonsumenter om tilgengjengeliggjøring av hendelseslister med notifikasjoner om hendelser.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrering av konsument som abonnent på notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjenesten som holder oversikt over hvilke konsumenter som ønsker å motta notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_inngå_avtaler_om_tilgang_og_innhenting_av_hendelsesstrømmer_hendelsesliste_og_publiser_og_abonner_uhf"><a class="anchor" href="#_inngå_avtaler_om_tilgang_og_innhenting_av_hendelsesstrømmer_hendelsesliste_og_publiser_og_abonner_uhf"></a>Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Datakonsument inngår avtale om tilgang og innhenting av hendelsesstrømmer
Hendelsesstrømmen kan være i form av en hendelsesliste eller abonnement på et emne (notifikasjonskø).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Inngå%20avtaler%20om%20tilgang%20og%20innhenting%20av%20hendelsesstrømmer%20-%20Hendelsesliste%20og%20Publiser%20og%20Abonner%20UHF.png" alt="Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF image">
</div>
<div class="title">Figure 6. Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Elementer i view for Inngå avtaler om tilgang og innhenting av hendelsesstrømmer - Hendelsesliste og Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beskrive behov og tilganger</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å beskrive hvilke tilganger konsument har rettigeheter til og hvilken type notifikasjoner som er aktuelle.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inngå avtaler om tilgang og innhenting av hendelsesstrømmer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å inngå avtaler med datatilbyder om tilgang til hendelser gjennom hendelseslister med notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_generere_og_publisere_notifikasjoner_publiser_og_abonner_uhf"><a class="anchor" href="#_generere_og_publisere_notifikasjoner_publiser_og_abonner_uhf"></a>Generere og publisere notifikasjoner - Publiser og Abonner UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Datatilbyder publiserer en notifikasjon til en Notifikasjonsdistribusjon i form av en publisering/abonneringsløsning. Notifikasjonsdistribusjonen er realisert som en publisert kø per abonnent med et emne.</p>
</div>
<div class="paragraph">
<p>Datatilbyder publiserer notifikasjoner til disse køene når hendelser
oppstår hos datatilbyder.</p>
</div>
<div class="paragraph">
<p>Hver enkelt abonnent har en innboks som abonnenten konsumerer. Notifikasjoner er transient og forsvinner fra innboksen etter at de er konsumert.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Generere%20og%20publisere%20notifikasjoner%20-%20Publiser%20og%20Abonner%20UHF%20.png" alt="Generere og publisere notifikasjoner - Publiser og Abonner UHF  image">
</div>
<div class="title">Figure 7. Generere og publisere notifikasjoner - Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Elementer i view for Generere og publisere notifikasjoner - Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generere og publisere notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å generere notifikasjoner som data om hendelser, samt å publisere slike notifikasjoner i en eller flere hendelseslister, eventuelt tilpasset ulike målgrupper.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generer og publiser notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å dele informasjon om hendelser.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generer notifikasjon ut fra hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å generere en notifikasjon på bakgrunn av en hendelse(endring i datagrunnlaget).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Publiser notifikasjon - Publiser/Abonner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess der notifikasjonen fra "Generer notifikasjon ut fra hendelse” overleveres Notifikasjonsdistribusjon for eventuell levering til konsumenter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En notifikasjon informerer om at en hendelse har inntruffet og kan inneholde eller  peke til hele eller deler av det totale settet av aktuelle, hendelsesrelaterte data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generering av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjeneste som genererer notifikasjoner basert på hendelser, der alle aktuelle grunnlagsdata er med eller lenket til.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Komplett notifikasjon, tilbyders domene</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjon som inneholder eller lenker til et fullstendig sett av hendelsesrelaterte data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonsdistribusjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjenesten mottar notifikasjoner fra tilbyder og distribuerer notifikasjoner til konsumenter som har interesse av gitte notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>En hendelse som resulterer i endring av et datagrunnlag.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UHF Konsumentregister</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oversikt over alle datakonsumenter som er blitt tildelt tilgang til
ressurser.</p>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av API fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>hvilke OAuth2 scopes knyttet til hvilke API som konsumenten har fått
tilgang til</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Oversikten over konsumenters bruk av notifikasjoner fra datatilbydere er
autoritativt for</p>
</div>
<div class="ulist">
<ul>
<li>
<p>datakonsumentens abonnement for notifikasjoner</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonskø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonskø som inneholder notifikasjoner publisert for en gitt abonnent av notifikasjoner om et gitt emne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tynn notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjon med beskjed om hva som har skjedd og hvor man finner resultatet, dvs peker mot datagrunnlaget.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meldingsformidler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Når en meldingsformidler skiver en notifikasjon i meldingskø plasseres det i meldingskø hos alle abonnenter (i hver sin kø).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_konsumer_notifikasjoner_publiser_og_abonner_uhf"><a class="anchor" href="#_konsumer_notifikasjoner_publiser_og_abonner_uhf"></a>Konsumer notifikasjoner - Publiser og Abonner UHF</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Datakonsument lytter på emner som konsumenten abonnerer på hos
Datatilbyder. Når en ny notifikasjon kommer i notifikasjonskøen trigges
konsumering av notifikasjonen.</p>
</div>
<div class="paragraph">
<p>Datakonsumenten vurderer relevans med basis i regler definert for
abonnenten og foretar videre behandling av notifikasjon.</p>
</div>
<div class="paragraph">
<p>Videre behandling består av å gjøre et eOppslag (via API) som beskrevet
i «Løsningsmønster forespørsel UHF» dersom konsumenten har behov for
ytterligere informasjon om hendelsen beskrevet i notifikasjonen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../main/unit-ra-datadeling-datautveksling/_images/Konsumer%20notifikasjoner%20-%20Publiser%20og%20Abonner%20UHF.png" alt="Konsumer notifikasjoner - Publiser og Abonner UHF image">
</div>
<div class="title">Figure 8. Konsumer notifikasjoner - Publiser og Abonner UHF</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Elementer i view for Konsumer notifikasjoner - Publiser og Abonner UHF</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Innhente og håndtere notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å konsumere hendelseslister ved å innhente notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konsumer notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosessen med å lese og håndtere notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vurder relevans av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess med å vurdere om hendelsen knyttet til lest notifikasjon er relevant for konsumenten.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forkast notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess med å forkaste notifikasjon som ikke er relevant for virksomheten. Avhengig av krav til personvern og informasjonssikkerhet kan det være særskilte krav til hva som er lov å beholde.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Videre behandling av notifikasjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess med videre behandling av en notifikasjon som normalt vil være å innhente mer informasjon om hendelsen eller subjektet notifikasjonen er knyttet til og eventuelt agere ut ifra denne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lytt på abonnert notifikasjonskø/emne</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Prosess der notifikasjoner innhentes fra tilbyder av notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kriterier og regler for å vurdere relevans av notifikasjoner</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Informasjon om hva som legges til grunn for å vurdere relevansen av en hendelse, basert på informasjon i lest notifikasjon.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonsdistribusjon</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tjenesten mottar notifikasjoner fra tilbyder og distribuerer notifikasjoner til konsumenter som har interesse av gitte notifikasjoner.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notifikasjonskø</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Notifikasjonskø som inneholder notifikasjoner publisert for en gitt abonnent av notifikasjoner om et gitt emne.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meldingsformidler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Når en meldingsformidler skiver en notifikasjon i meldingskø plasseres det i meldingskø hos alle abonnenter (i hver sin kø).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
